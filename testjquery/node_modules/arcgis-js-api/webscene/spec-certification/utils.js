/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports"],(function(t){"use strict";function e(t){return n(t,"",new Set,{})}function n(t,e,s,r){if(s.has(t))return r;s.add(t),e&&t.id&&(r[e]=t);for(const o of t.properties)if("string"!=typeof o.type){const t=e?`${e}.${o.name}`:o.name;n(o.type,t,s,r)}return s.delete(t),r}function s(t){const e=r(t,"",[]);return e.sort(((t,e)=>(t.name??"").localeCompare(e.name??""))),e}function r(t,e,n){for(const s of t.properties){const t=e?`${e}.${s.name}`:s.name;"string"==typeof s.type?n.push({name:t,type:s.type,default:s.default,enum:s.enum}):0===s.type.properties.length?n.push({name:t,type:"unknown",default:s.default,enum:s.enum}):r(s.type,t,n)}return n}class o{constructor(){this.stack=[],this.seen=new Map}addProperty(t){this.currentClass?.properties.push(t)}push(t,e){this.seen.set(e.id,e),this.stack.push({klass:e,propertyName:t})}pop(){return this.stack.pop()?.klass??null}get currentClass(){return this.stack.length?this.stack[this.stack.length-1].klass:null}get pathString(){return this.stack.map((t=>t.propertyName)).filter((t=>!!t)).join(".")}}function a(t){const e=t.slice();return e.sort(),e}t.ScanContext=o,t.collectClassPaths=e,t.flatten=s,t.sorted=a,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
