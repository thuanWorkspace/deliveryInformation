/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../symbols/support/svgUtils","../../../../symbols/support/utils","../../../support/widgetUtils","../../../support/jsxFactory"],(function(e,t,a,l,r){"use strict";const s="esri-relationship-ramp",o=`${s}--diamond`,i=`${s}--square`,n="http://www.w3.org/2000/svg",d={diamondContainer:`${o}__container`,diamondLeftCol:`${o}__left-column`,diamondRightCol:`${o}__right-column`,diamondMidCol:`${o}__middle-column`,diamondMidColLabel:`${o}__middle-column--label`,diamondMidColRamp:`${o}__middle-column--ramp`,squareTable:`${i}__table`,squareTableRow:`${i}__table-row`,squareTableCell:`${i}__table-cell`,squareTableLabel:`${i}__table-label`,squareTableLabelLeftBottom:`${i}__table-label--left-bottom`,squareTableLabelRightBottom:`${i}__table-label--right-bottom`,squareTableLabelLeftTop:`${i}__table-label--left-top`,squareTableLabelRightTop:`${i}__table-label--right-top`};function u(e,t,a={}){const{focus:s,labels:o}=e,i=!!s,n=m(e,t,a),u={justifyContent:"center"},b=l.isRTL();return i?r.tsx("div",{class:d.diamondContainer,styles:u},r.tsx("div",{class:d.diamondLeftCol},b?o.right:o.left),r.tsx("div",{class:d.diamondMidCol},r.tsx("div",{class:d.diamondMidColLabel},o.top),n,r.tsx("div",{class:d.diamondMidColLabel},o.bottom)),r.tsx("div",{class:d.diamondRightCol},b?o.left:o.right)):r.tsx("div",{class:d.squareTable},r.tsx("div",{class:d.squareTableRow},r.tsx("div",{class:l.classes(d.squareTableCell,d.squareTableLabel,d.squareTableLabelRightBottom)},b?o.top:o.left),r.tsx("div",{class:d.squareTableCell}),r.tsx("div",{class:l.classes(d.squareTableCell,d.squareTableLabel,d.squareTableLabelLeftBottom)},b?o.left:o.top)),r.tsx("div",{class:d.squareTableRow},r.tsx("div",{class:d.squareTableCell}),n,r.tsx("div",{class:d.squareTableCell})),r.tsx("div",{class:d.squareTableRow},r.tsx("div",{class:l.classes(d.squareTableCell,d.squareTableLabel,d.squareTableLabelRightTop)},b?o.right:o.bottom),r.tsx("div",{class:d.squareTableCell}),r.tsx("div",{class:l.classes(d.squareTableCell,d.squareTableLabel,d.squareTableLabelLeftTop)},b?o.bottom:o.right)))}function b(e,t,a){const l=`${a}_arrowStart`,r=`${a}_arrowEnd`,s="left"===e,o={markerStart:null,markerEnd:null};switch(t){case"HL":s?o.markerStart=`url(#${r})`:o.markerEnd=`url(#${l})`;break;case"LL":o.markerStart=`url(#${r})`;break;case"LH":s?o.markerEnd=`url(#${l})`:o.markerStart=`url(#${r})`;break;default:o.markerEnd=`url(#${l})`}return o}function m(e,l,s={}){const{focus:o,numClasses:i,colors:u,rotation:m}=e,{opacity:c,effectList:f,ariaLabel:x}=s,p=s.size??60,h=!!o,k=Math.sqrt(p**2+p**2)+(h?0:5),T=[],g=[],_=[],q=(p||75)/i;for(let a=0;a<i;a++){const e=a*q;for(let l=0;l<i;l++){const r=l*q,s=t.generateFillAttributes(u[a][l]),o=t.generateStrokeAttributes(null),i={type:"rect",x:r,y:e,width:q,height:q},n=t.renderDef(s);n&&T.push(n);const d=t.renderShape(i,s.fill,o,null);d&&g.push(d),_.push(t.getBoundingBox(i))}}const L=10,$=15,C=15,v=10;let w=null;h||(w="margin: -15px -15px -18px -15px");const y=b("left",o,l),R=b("right",o,l),S=t.computeBBox(_),M=t.getTransformMatrix(S,k,k,0,!1,m,!1),B=t.getTransformMatrix(S,k,k,0,!1,h?-45:null,!1),E={filter:a.getCSSFilterFromEffectList(f)??void 0,opacity:null==c?"":`${c}`};return r.tsx("div",{class:h?d.diamondMidColRamp:d.squareTableCell,styles:E},r.tsx("svg",{"aria-labelledBy":x,focusable:!1,height:k,role:"image",style:w,width:k,xmlns:n},r.tsx("defs",null,r.tsx("marker",{id:`${l}_arrowStart`,markerHeight:"10",markerUnits:"strokeWidth",markerWidth:"10",orient:"auto",refX:"5",refY:"5"},r.tsx("polyline",{fill:"none",points:"0,0 5,5 0,10",stroke:"#555555","stroke-width":"1"})),r.tsx("marker",{id:`${l}_arrowEnd`,markerHeight:"10",markerUnits:"strokeWidth",markerWidth:"10",orient:"auto",refX:"0",refY:"5"},r.tsx("polyline",{fill:"none",points:"5,0 0,5 5,10",stroke:"#555555","stroke-width":"1"})),T),r.tsx("g",{transform:M},g),r.tsx("g",{transform:B},r.tsx("line",{fill:"none","marker-end":y.markerEnd,"marker-start":y.markerStart,stroke:"#555555","stroke-width":"1",x1:-L,x2:-L,y1:p-$,y2:$}),r.tsx("line",{fill:"none","marker-end":R.markerEnd,"marker-start":R.markerStart,stroke:"#555555","stroke-width":"1",x1:C,x2:p-C,y1:p+v,y2:p+v}))))}e.renderRelationshipRamp=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
