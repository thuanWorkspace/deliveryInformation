/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports"],(function(e){"use strict";const i={hide:"hide",hideChildren:"hide-children"};function n(e){if(e)return null!=e.listMode?e.listMode:void 0}function r(e){return null!=e&&"minScale"in e&&null!=e.minScale?e.minScale:void 0}function l(e){return null!=e&&"maxScale"in e&&null!=e.maxScale?e.maxScale:void 0}function t(e){if(!e)return"inherited";const i=S(b(e)?e.layer:e);return null!=i?i?"independent":"inherited":"visibilityMode"in e&&null!=e.visibilityMode?e.visibilityMode:"independent"}function a(e){if(e&&(!("type"in e)||"wmts"!==e.type)&&e.listMode!==i.hideChildren)return"sublayers"in e?"sublayers":"layers"in e?"layers":void 0}function u(e){const i=(e?.layer&&b(e.layer)?e.layer.layer:void 0)??e?.layer;return!!i&&(m(i)??!0)}function s(e){return n(e)!==i.hide}function o(e,i){if(!e||null==i||isNaN(i))return!1;const n=r(e),t=l(e),a=null!=n&&!isNaN(n)&&n>0&&i>n,u=null!=t&&!isNaN(t)&&t>0&&i<t;return a||u}function y(e,i){e?.sort(((e,n)=>{const r="uid"in e?i.indexOf(e.uid):-1,l="uid"in n?i.indexOf(n.uid):-1;return r>l?-1:r<l?1:0}))}function d(e,i){const n=e?.layer;if(!n)return;const r=a(n);if(!r)return;let l;"layers"===r&&"layers"in n?l=n.layers:"sublayers"===r&&"sublayers"in n&&(l=n.sublayers),y(l,i)}function c(e){const i=e?.layer;return i&&"layers"in i?i.layers:null}function f(e,i){const n=e.layer?.uid;return null!=n?i.find((e=>e.layer?.uid===n)):null}function p(e){const i=b(e)?e:null,n=e?.parent,r=null!=n&&"type"in n&&"map-image"===n.type?i?.source:null,l="";return r&&n?{layer:n,title:l,sublayerIds:[r.mapLayerId]}:{layer:e,title:l}}function b(e){return null!=e&&"layer"in e&&null!=e.layer}function S(e){const i=L(e);return null!=i&&"supportsSublayerVisibility"in i?i.supportsSublayerVisibility:void 0}function m(e){const i=L(e);return null!=i&&"supportsDynamicLayers"in i?i.supportsDynamicLayers:void 0}function L(e){return e&&"capabilities"in e&&null!=e.capabilities&&"exportMap"in e.capabilities?e.capabilities.exportMap:void 0}e.canDisplayLayer=s,e.canSortSublayers=u,e.findLayerListMode=n,e.findLayerMaxScale=l,e.findLayerMinScale=r,e.findLayerVisibilityMode=t,e.findSelectedItem=f,e.getItemLayers=c,e.getLegendLayerInfo=p,e.getNormalizedChildLayerProperty=a,e.isLayerOutsideScaleRange=o,e.isSublayer=b,e.sortChildLayersToIds=d,e.sortLayersToIds=y,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
