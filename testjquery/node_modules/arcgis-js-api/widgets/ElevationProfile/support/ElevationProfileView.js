/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["require","exports","../../../chunks/tslib.es6","../../../core/Accessor","../../../core/asyncUtils","../../../core/maybe","../../../core/promiseUtils","../../../core/reactiveUtils","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/ensureType","../../../core/arrayUtils","../../../core/has","../../../core/accessorSupport/decorators/subclass"],(function(e,i,o,t,s,r,l,a,n,c,d,h,w){"use strict";i.ElevationProfileView=class extends t{constructor(e){super(e),this._implementation=null,this._loadingTask=null}initialize(){this.addHandles(a.watch((()=>({tool:this.tool,view:this.tool.viewModel.view,visible:this.tool.visible&&!!this.tool.viewModel.view?.ready})),(({tool:e,view:i,visible:o})=>{null!=i&&o?this._show(i,e):this._hide()}),a.syncAndInitial))}destroy(){this._hide()}_show(i,o){this._loadingTask=r.abortMaybe(this._loadingTask),this._loadingTask=s.createTask((async t=>{if("2d"===i.type){const s=new Promise(((i,o)=>e(["./ElevationProfileView2D"],i,o))),r=(await l.whenOrAbort(s,t)).ElevationProfileView2D;this._implementation=new r(i,o)}else if("3d"===i.type){const s=new Promise(((i,o)=>e(["./ElevationProfileView3D"],i,o))),r=(await l.whenOrAbort(s,t)).ElevationProfileView3D;this._implementation=new r(i,o)}}))}_hide(){this._loadingTask=r.abortMaybe(this._loadingTask),this._implementation=r.destroyMaybe(this._implementation)}},o.__decorate([n.property()],i.ElevationProfileView.prototype,"tool",void 0),i.ElevationProfileView=o.__decorate([w.subclass("esri.widgets.ElevationProfile.support.ElevationProfileView")],i.ElevationProfileView),Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})}));
