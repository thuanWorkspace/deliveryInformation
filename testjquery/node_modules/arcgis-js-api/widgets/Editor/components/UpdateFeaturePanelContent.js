/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../intl/substitute","./FooterActions","./Notices","./PanelContent","../../support/Heading","../../support/widgetUtils","../../support/jsxFactory"],(function(e,t,n,o,a,s,i,l){"use strict";const r=()=>Promise.all([n.loadFooterActionsComponents(),o.loadNoticesComponents(),a.loadPanelContentComponents()]);function u({editorViewModel:e,headingLevel:i,messages:r,messagesCommon:u,onDelete:c,onSave:d,renderAttachments:p,renderFeatureForm:m}){const{activeWorkflow:g,syncing:F}=e;if(!g)return null;const v=g.type,C="activeWorkflow"in g?g.activeWorkflow:void 0,f=C?.type,h=e.featureFormViewModel,b=C&&!C.hasPendingEdits||"update"===v&&!g.hasPendingEdits||F||h.updating,w="update"===v&&"create-features"!==f?u.update:u.create,P="create-features"===v&&"create-new"===g.createFeatureState,k="create-features"===v?g.numPendingFeatures:0,x=k>1?t.substitute(r.createFeaturesTemplate,{numFeatures:k}):w,y=g.shouldShowAttachments&&!e.featureFormViewModel.activeRelationshipInput,S=h.inputs.every((e=>!e.visible))&&!y?l.tsx(a.PanelContentMessage,{key:"panel-content-message"},t.substitute(r.clickToFinishTemplate,{button:w})):l.tsx(a.PanelContentSection,{key:"panel-content-section"},l.tsx(o.Notices,{messages:r,workflow:g}),l.tsx(a.PanelContentSectionGroup,null,m(),y?l.tsx("div",{key:"attachments"},l.tsx(s.Heading,{level:s.incrementHeadingLevel(i)},r.attachments),p()):null));return l.tsx(l.tsxFragment,null,l.tsx(a.PanelContent,{key:"attribute-panel-content",showScrimOverlay:P},S),l.tsx(n.FooterActions,{buttons:[{onClick:d,disabled:b,label:x},e.shouldShowDeleteButton?{appearance:"outline",onClick:c,disabled:F,kind:"danger",label:u.delete}:void 0]}))}e.UpdateFeaturePanelContent=u,e.loadUpdateFeaturePanelContentComponents=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
