/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../../chunks/tslib.es6","../../core/Evented","../../core/Logger","../../core/promiseUtils","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/arrayUtils","../../core/has","../../core/accessorSupport/decorators/subclass"],(function(t,e,o,r,a,i,s,l,p){"use strict";const n={first:!0},c={first:!1};let u=class extends e.EventedAccessor{constructor(t){super(t),this._animationController=null,this.disabled=!1,this.layout="horizontal",this.loop=!1,this.playRate=1e3,this.values=null}destroy(){this._pause()}get state(){return this._animationController?"playing":"ready"}next(){this.emit("next")}pause(){this.emit("pause"),this._pause()}play(){this.emit("play"),this._play()}previous(){this.emit("previous")}_pause(){this._animationController?.abort(),this._animationController=null}_play(){this._pause(),this._animationController=new AbortController,this._animate(n)}async _animate(t){if(this.emit("animate",t),this._animationController){try{await r.after(this.playRate,null,this._animationController.signal)}catch(e){return r.isAbortError(e)||o.getLogger(this).error(e),void this._pause()}this._animate(c)}}};t.__decorate([a.property()],u.prototype,"_animationController",void 0),t.__decorate([a.property({nonNullable:!0})],u.prototype,"disabled",void 0),t.__decorate([a.property({nonNullable:!0})],u.prototype,"layout",void 0),t.__decorate([a.property({nonNullable:!0})],u.prototype,"loop",void 0),t.__decorate([a.property({nonNullable:!0})],u.prototype,"playRate",void 0),t.__decorate([a.property({readOnly:!0})],u.prototype,"state",null),t.__decorate([a.property()],u.prototype,"values",void 0),t.__decorate([a.property()],u.prototype,"next",null),t.__decorate([a.property()],u.prototype,"pause",null),t.__decorate([a.property()],u.prototype,"play",null),t.__decorate([a.property()],u.prototype,"previous",null),u=t.__decorate([p.subclass("esri.widgets.ValuePicker.ValuePickerViewModel")],u);return u}));
