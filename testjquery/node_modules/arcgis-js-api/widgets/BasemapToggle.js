/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["require","../chunks/tslib.es6","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/cast","../core/arrayUtils","../core/has","../core/accessorSupport/decorators/subclass","../support/basemapUtils","./Widget","./BasemapToggle/BasemapToggleViewModel","./BasemapToggle/css","./support/componentsUtils","./support/globalCss","./support/decorators/accessibleHandler","./support/decorators/messageBundle","./support/jsxFactory","./support/widgetUtils"],(function(e,s,t,a,l,o,i,r,c,n,p,d,g,m,u,b,v){"use strict";function y(e){const s=r.getBasemapThumbnailUrl(e);return s?{backgroundImage:"url("+s+")"}:{backgroundImage:""}}const h={title:!1};let _=class extends c{constructor(e,s){super(e,s),this.messages=null,this.viewModel=new n,this.visibleElements={...h}}loadDependencies(){return d.loadCalciteComponents({icon:()=>new Promise(((s,t)=>e(["../chunks/calcite-icon"],s,t))),scrim:()=>new Promise(((s,t)=>e(["../chunks/calcite-scrim"],s,t)))})}get activeBasemap(){return this.viewModel.activeBasemap}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get nextBasemap(){return this.viewModel.nextBasemap}set nextBasemap(e){this.viewModel.nextBasemap=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...h,...e}}toggle(){return this.viewModel.toggle()}render(){const e=this.viewModel,s="disabled"===e.state?null:e.activeBasemap,t="disabled"===e.state?null:e.nextBasemap,a="loading"===e.state,l="incompatible-next-basemap"===e.state,o=t?.title??"",i=t&&"loaded"!==t.loadStatus;let r;const c=this.visibleElements.title&&o,n=l;return(c||n)&&(r=b.tsx("div",{class:p.css.overlay,key:"overlay"},c?b.tsx("span",{class:p.css.title,title:o},o):null,n?b.tsx("calcite-scrim",{class:p.css.overlayScrim,title:this.messages.incompatibleSpatialReference},b.tsx("calcite-icon",{icon:"exclamation-mark-triangle"})):null)),b.tsx("div",{bind:this,class:this.classes(p.css.base,g.globalCss.widget,l?g.globalCss.disabled:null),"data-basemap-id":t?t.id:"",onclick:this._toggle,onkeydown:this._toggle,role:"button",tabIndex:l?-1:0,title:this.label},b.tsx("div",{class:this.classes(p.css.container,p.css.secondaryBasemapImage)},b.tsx("div",{class:p.css.image,styles:y(s)})),b.tsx("div",{class:p.css.container},b.tsx("div",{class:this.classes(p.css.image,i?p.css.imageLoading:null),styles:y(t)},i||a?b.tsx("calcite-scrim",null,b.tsx("span",{"aria-hidden":"true",class:g.globalCss.loaderAnimation,role:"presentation"})):null),r))}_toggle(){this.toggle()}};s.__decorate([t.property({readOnly:!0})],_.prototype,"activeBasemap",null),s.__decorate([t.property()],_.prototype,"label",null),s.__decorate([t.property(),u.messageBundle("esri/widgets/BasemapToggle/t9n/BasemapToggle")],_.prototype,"messages",void 0),s.__decorate([t.property()],_.prototype,"nextBasemap",null),s.__decorate([t.property()],_.prototype,"view",null),s.__decorate([t.property({type:n})],_.prototype,"viewModel",void 0),s.__decorate([t.property()],_.prototype,"visibleElements",void 0),s.__decorate([a.cast("visibleElements")],_.prototype,"castVisibleElements",null),s.__decorate([m.accessibleHandler()],_.prototype,"_toggle",null),_=s.__decorate([i.subclass("esri.widgets.BasemapToggle")],_);return _}));
