/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["require","../chunks/tslib.es6","../core/accessorSupport/decorators/property","../core/accessorSupport/ensureType","../core/arrayUtils","../core/has","../core/accessorSupport/decorators/subclass","./Widget","./Compass/CompassViewModel","./Compass/css","./support/componentsUtils","./support/globalCss","./support/widgetUtils","./support/decorators/messageBundle","./support/jsxFactory"],(function(e,s,t,o,r,i,a,l,c,n,p,d,u,g,v){"use strict";let w=class extends l{constructor(e,s){super(e,s),this.iconClass=n.css.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new c,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=e=>({transform:`rotateZ(${e.z}deg)`})}loadDependencies(){return p.loadCalciteComponents({button:()=>new Promise(((s,t)=>e(["../chunks/calcite-button"],s,t))),icon:()=>new Promise(((s,t)=>e(["../chunks/calcite-icon"],s,t)))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:s}=this.viewModel,t="rotation"===s?"arrow-up":"compass-needle",{messages:o}=this;return v.tsx("div",{class:this.classes(n.css.base,d.globalCss.widget)},v.tsx("calcite-button",{"aria-label":o.reset,class:d.globalCss.widgetButton,disabled:"disabled"===s,kind:"neutral",onclick:this._reset,round:!0,scale:"s",title:o.reset},v.tsx("div",{"aria-hidden":"true",class:n.css.iconContainer,title:o.reset},v.tsx("calcite-icon",{icon:t,scale:"m",styles:this._toRotationTransform(e)}))))}};s.__decorate([t.property()],w.prototype,"goToOverride",null),s.__decorate([t.property()],w.prototype,"iconClass",void 0),s.__decorate([t.property()],w.prototype,"icon",void 0),s.__decorate([t.property()],w.prototype,"label",null),s.__decorate([t.property(),g.messageBundle("esri/widgets/Compass/t9n/Compass")],w.prototype,"messages",void 0),s.__decorate([t.property()],w.prototype,"view",null),s.__decorate([t.property({type:c})],w.prototype,"viewModel",void 0),w=s.__decorate([a.subclass("esri.widgets.Compass")],w);return w}));
