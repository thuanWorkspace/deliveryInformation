/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../../chunks/tslib.es6","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/arrayUtils","../../core/has","../../core/accessorSupport/decorators/subclass","../Widget","./FeatureContent/FeatureContentViewModel","./support/featureUtils","../support/widget","../support/jsxFactory"],(function(e,t,r,o,s,a,i,d,n,c,l){"use strict";const p="esri-feature-content",u={base:p,loaderContainer:`${p}__loader-container`,loader:`${p}__loader`};let h=class extends i{constructor(e,t){super(e,t),this.viewModel=null,this._addTargetToAnchors=e=>{Array.from(e.querySelectorAll("a")).forEach((e=>{n.shouldOpenInNewTab(e.href)&&!e.hasAttribute("target")&&e.setAttribute("target","_blank")}))}}get creator(){return this.viewModel?.creator}set creator(e){this.viewModel&&(this.viewModel.creator=e)}get graphic(){return this.viewModel?.graphic}set graphic(e){this.viewModel&&(this.viewModel.graphic=e)}render(){const e=this.viewModel?.state;return l.tsx("div",{class:u.base},"loading"===e?this._renderLoading():this._renderCreated())}_renderLoading(){return l.tsx("div",{class:u.loaderContainer,key:"loader"},l.tsx("div",{class:u.loader}))}_renderCreated(){const e=this.viewModel?.created;return e?e instanceof HTMLElement?l.tsx("div",{afterCreate:this._attachToNode,bind:e,key:e}):c.isWidget(e)?l.tsx("div",{key:e},!e.destroyed&&e.render()):l.tsx("div",{afterCreate:this._addTargetToAnchors,innerHTML:e,key:e}):null}_attachToNode(e){const t=this;e.appendChild(t)}};e.__decorate([t.property()],h.prototype,"creator",null),e.__decorate([t.property()],h.prototype,"graphic",null),e.__decorate([t.property({type:d})],h.prototype,"viewModel",void 0),h=e.__decorate([a.subclass("esri.widgets.Feature.FeatureContent")],h);return h}));
