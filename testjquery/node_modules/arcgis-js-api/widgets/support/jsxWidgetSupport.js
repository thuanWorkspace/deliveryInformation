/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../core/handleUtils","./symbols"],(function(e,t,o){"use strict";const r=[],n={},i=new WeakMap;function d(e,t){let o=t.children;if(o?.length)for(let r=0;r<o.length;++r)o[r]=d(e,o[r]);else o=r;const i=t.vnodeSelector;if(l(i)){const r=t.properties||n,d=r.key||i;return{vnodeSelector:"div",properties:{key:d,afterCreate:s,afterUpdate:c,afterRemoved:a,parentWidget:e,widgetConstructor:i,widgetProperties:{...r,key:d,children:o}},children:void 0,text:void 0,domNode:null}}return t}function s(e,r,n,{parentWidget:d,widgetConstructor:s,widgetProperties:c}){const l=new s(c);l.container=e,i.set(e,l),l.afterCreate?.(l,e),d.addHandles(t.makeHandle((()=>a(e)))),queueMicrotask((()=>{l[o.widgetTestDataSymbol].projector.renderNow()}))}function c(e,t,o,{widgetProperties:r}){const n=i.get(e);n&&(n.set(r),n.afterUpdate?.(n,e))}function a(e){const t=i.get(e);t&&(t.afterRemoved?.(t,e),t.destroy(),i.delete(e))}function l(e){return"function"==typeof e&&e[o.widgetSymbol]}e.isWidgetConstructor=l,e.processWidgets=d,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
