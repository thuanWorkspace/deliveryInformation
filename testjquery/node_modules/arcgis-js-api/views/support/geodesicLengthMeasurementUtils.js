/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../core/quantityUtils","../../chunks/vec3f64","../../geometry/geometryEngine","../../geometry/projection/projectPolylineToWGS84ComparableLonLat","../../geometry/projection/projectVectorToWGS84ComparableLonLat","../../geometry/support/geodesicUtils","../../geometry/support/spatialReferenceUtils","./geodesicMeasurementUtils"],(function(e,t,r,n,o,c,s,i,a){"use strict";function l(e){const{spatialReference:t}=e;return a.geodesicMeasure(t,d,L,h,e)}function u(e,t){if(!i.equals(e.spatialReference,t.spatialReference))return null;const{spatialReference:r}=e;return v[0]=e.x,v[1]=e.y,v[2]=e.hasZ?e.z:0,G[0]=t.x,G[1]=t.y,G[2]=t.hasZ?t.z:0,g(v,G,r)}function g(e,t,r){return a.geodesicMeasure(r,p,f,m,e,t,r)}function p(e,r,n){return t.createLength(s.inverseGeodeticSolver(S,e,r,n).distance,"meters")}function f(e,r,o){return t.createLength(n.geodesicLength(y(e,r,o),"meters"),"meters")}function m(e,r,n){return c.projectVectorToWGS84ComparableLonLat(e,n,j)&&c.projectVectorToWGS84ComparableLonLat(r,n,b)?t.createLength(s.inverseGeodeticSolver(S,j,b).distance,"meters"):null}function d(e){return t.createLength(s.geodesicLengths([e],"meters")[0],"meters")}function L(e){return t.createLength(n.geodesicLength(e,"meters"),"meters")}function h(e){const r=[];if(!o.projectPolylineToWGS84ComparableLonLat(e,r))return null;let n=0;for(const t of r){let e=0;for(let r=1;r<t.length;++r)e+=s.inverseGeodeticSolver(S,t[r-1],t[r]).distance;n+=e}return t.createLength(n,"meters")}function y(e,t,r){return{type:"polyline",spatialReference:r,paths:[[[...e],[...t]]]}}const S=new s.InverseGeodeticSolverResult,v=r.create(),G=r.create(),j=r.create(),b=r.create();e.geodesicDistance=g,e.geodesicDistanceBetweenPoints=u,e.geodesicLength=l,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
