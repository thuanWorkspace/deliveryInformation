/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../core/quantityUtils","../../core/unitUtils","../../chunks/vec2","../../chunks/vec2f64","../../chunks/vec3","../../chunks/vec3f64","../../geometry/Point","../../geometry/SpatialReference","../../geometry/projection/projectVectorToPoint","../../geometry/projection/projectVectorToVector","../../geometry/projection/projectVectorToWGS84ComparableLonLat","../../geometry/support/geodesicUtils"],(function(e,t,o,r,c,n,i,a,s,l,p,u,g){"use strict";const v=(()=>{const e=i.create(),o=i.create(),a=i.create();return(i,s)=>{if(n.set(o,i.x,i.y,i.z??0),n.set(a,s.x,s.y,s.z??0),n.exactEquals(o,a))return null;if(!u.projectVectorToWGS84ComparableLonLat(o,i.spatialReference,o)||!u.projectVectorToWGS84ComparableLonLat(a,s.spatialReference,a)){n.subtract(e,a,o),e[2]=0,n.normalize(e,e);let i=r.angle(c.UNIT_Y,e);return e[0]<0&&(i=2*Math.PI-i),t.createAngle(i,"radians","geographic")}const{azimuth:l}=g.inverseGeodeticSolver(m,o,a);return null!=l?t.createAngle(l,"degrees","geographic"):void 0}})(),y=(()=>{const e=i.create(),r=i.create();return({x:c,y:i,z:u,spatialReference:v},y,m)=>{const d=u??0;n.set(e,c,i,d);const h=t.convertRotationType(o.convertUnit(m.value,m.unit,"degrees"),m.rotationType,"geographic");if(!p.projectVectorToVector(e,v,e,s.WGS84)){const e=t.convertRotationType(h,"geographic","arithmetic"),r=o.convertUnit(e,"degrees","radians");return new a({x:c+y*Math.cos(r),y:i+y*Math.sin(r),z:d,spatialReference:v})}return g.directGeodeticSolver(r,e,h,y),r[2]=d,l.projectVectorToPoint(r,s.WGS84,v)}})(),m=new g.InverseGeodeticSolverResult;e.orientationBetweenPoints=v,e.pointFromDistanceAlongAzimuth=y,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
