/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../../chunks/tslib.es6","../../core/Accessor","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/arrayUtils","../../core/has","../../core/accessorSupport/decorators/subclass","../../libs/maquette/projection","../../libs/maquette/h","../../libs/maquette/projector"],(function(t,e,s,r,o,i,a,h,n,p){"use strict";let d=class extends e{get startPosition(){return[this.startX,this.startY]}set startPosition(t){this._set("startX",t[0]),this._set("startY",t[1])}get endPosition(){return[this.endX,this.endY]}set endPosition(t){this._set("endX",t[0]),this._set("endY",t[1])}constructor(t){super(t),this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.width=1,this.color=[0,0,0,.5],this.visible=!0,this.isDecoration=!0}get _strokeStyle(){const t=this.color;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get _lineCap(){return"round"}render(){const{height:t,left:e,top:s,width:r,x1:o,x2:i,y1:a,y2:h}=this._calculateCoordinates(l),p=`stroke: ${this._strokeStyle}; stroke-width: ${this.width}; stroke-linecap: ${this._lineCap};`;return n.h("div",{classes:{"esri-line-overlay-item":!0},styles:{left:e+"px",top:s+"px",width:r+"px",height:t+"px",visibility:this.visible?"visible":"hidden"}},[n.h("svg",{width:r,height:t},[n.h("line",{x1:o,y1:a,x2:i,y2:h,style:p})])])}renderCanvas(t){if(!this.visible)return;t.strokeStyle=this._strokeStyle,t.lineWidth=this.width,t.lineCap=this._lineCap;const e=this._calculateCoordinates(l);t.beginPath(),t.moveTo(e.left+e.x1,e.top+e.y1),t.lineTo(e.left+e.x2,e.top+e.y2),t.stroke()}_calculateCoordinates(t){const e=Math.min(this.startX,this.endX),s=Math.max(this.startX,this.endX),r=Math.min(this.startY,this.endY),o=Math.max(this.startY,this.endY),i=this.width;return t.left=e-i,t.top=r-i,t.width=s-e+2*i,t.height=Math.max(20,o-r+2*i),t.x1=this.startX-e+i,t.y1=this.startY-r+i,t.x2=this.endX-e+i,t.y2=this.endY-r+i,t}};t.__decorate([s.property()],d.prototype,"startX",void 0),t.__decorate([s.property()],d.prototype,"startY",void 0),t.__decorate([s.property()],d.prototype,"endX",void 0),t.__decorate([s.property()],d.prototype,"endY",void 0),t.__decorate([s.property()],d.prototype,"startPosition",null),t.__decorate([s.property()],d.prototype,"endPosition",null),t.__decorate([s.property()],d.prototype,"width",void 0),t.__decorate([s.property()],d.prototype,"color",void 0),t.__decorate([s.property()],d.prototype,"visible",void 0),t.__decorate([s.property()],d.prototype,"isDecoration",void 0),t.__decorate([s.property({readOnly:!0})],d.prototype,"_strokeStyle",null),d=t.__decorate([a.subclass("esri.views.overlay.LineOverlayItem")],d);const l={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0};return d}));
