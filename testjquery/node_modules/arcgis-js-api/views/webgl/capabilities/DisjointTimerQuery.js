/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","./isWebGL2Context"],(function(e,t){"use strict";class E{constructor(e,t,E,r,i,T,n,s,u){this.createQuery=e,this.deleteQuery=t,this.resultAvailable=E,this.getResult=r,this.disjoint=i,this.beginTimeElapsed=T,this.endTimeElapsed=n,this.createTimestamp=s,this.timestampBits=u}}function r(r,i){if(i.disjointTimerQuery)return null;let T=r.getExtension("EXT_disjoint_timer_query_webgl2");return T&&t(r)?new E((()=>r.createQuery()),(t=>{r.deleteQuery(t),e.hasRunningElapsedTimer=!1}),(e=>r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE)),(e=>r.getQueryParameter(e,r.QUERY_RESULT)),(()=>r.getParameter(T.GPU_DISJOINT_EXT)),(t=>{e.hasRunningElapsedTimer||(e.hasRunningElapsedTimer=!0,r.beginQuery(T.TIME_ELAPSED_EXT,t))}),(()=>{r.endQuery(T.TIME_ELAPSED_EXT),e.hasRunningElapsedTimer=!1}),(e=>T.queryCounterEXT(e,T.TIMESTAMP_EXT)),(()=>r.getQuery(T.TIMESTAMP_EXT,T.QUERY_COUNTER_BITS_EXT))):(T=r.getExtension("EXT_disjoint_timer_query"),T?new E((()=>T.createQueryEXT()),(t=>{T.deleteQueryEXT(t),e.hasRunningElapsedTimer=!1}),(e=>T.getQueryObjectEXT(e,T.QUERY_RESULT_AVAILABLE_EXT)),(e=>T.getQueryObjectEXT(e,T.QUERY_RESULT_EXT)),(()=>r.getParameter(T.GPU_DISJOINT_EXT)),(t=>{e.hasRunningElapsedTimer||(e.hasRunningElapsedTimer=!0,T.beginQueryEXT(T.TIME_ELAPSED_EXT,t))}),(()=>{T.endQueryEXT(T.TIME_ELAPSED_EXT),e.hasRunningElapsedTimer=!1}),(e=>T.queryCounterEXT(e,T.TIMESTAMP_EXT)),(()=>T.getQueryEXT(T.TIMESTAMP_EXT,T.QUERY_COUNTER_BITS_EXT))):null)}e.hasRunningElapsedTimer=!1,e.DisjointTimerQuery=E,e.createDisjointTimerQuery=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
