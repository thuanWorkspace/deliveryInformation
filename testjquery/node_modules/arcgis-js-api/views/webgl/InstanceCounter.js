/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../support/AllocationTracer","./enums"],(function(t,e,r){"use strict";const n={RECORD_ALLOCATIONS:!1};class o{constructor(){for(this._current=new Array,this._allocations=new e.AllocationTracer(n.RECORD_ALLOCATIONS);this._current.length<r.ResourceType.COUNT;)this._current.push(0)}increment(t,e,r=1){this._current[t]+=r,this._allocations.add(e)}decrement(t,e,r=1){this._current[t]-=r,this._allocations.remove(e)}get current(){return this._current}get total(){return this.current.reduce(((t,e,n)=>t+(n<r.ResourceType.UNCOUNTED?e:0)),0)}get resourceInformation(){let t="";if(this.total>0){t+="Live objects:\n";for(let e=0;e<r.ResourceType.COUNT;++e){const n=this._current[e];n>0&&(t+=`${r.ResourceType[e]}: ${n}\n`)}}return t+=this._allocations.information,t}}t.InstanceCounter=o,t.test=n,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
