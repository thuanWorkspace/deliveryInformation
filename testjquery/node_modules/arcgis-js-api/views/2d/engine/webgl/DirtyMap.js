/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define((function(){"use strict";const t=-1;class e{constructor(){this._dirties=[{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1},{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1},{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1},{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1},{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1}]}hasDirty(){return this._dirties.some((e=>e.indexCount!==t||e.allDirty))}markAllClean(){for(const e of this._dirties)e.indexFrom=t,e.indexCount=t,e.vertexFrom=t,e.vertexCount=t,e.allDirty=!1}markAllDirty(){for(const t of this._dirties)t.allDirty=!0}forEach(e){for(let r=0;r<this._dirties.length;++r){const{indexCount:i,indexFrom:n,vertexCount:o,vertexFrom:x,allDirty:l}=this._dirties[r],s={};let d,m=!1;(l||x!==t&&o>0)&&(s.geometry={count:o,from:x,allDirty:l},m=!0),(l||n!==t&&i>0)&&(d={count:i,from:n,allDirty:l},m=!0),m&&e({indices:d,vertices:s},r)}}markDirtyIndices(e,r,i){const n=this._dirties[e],o=r,x=i;if(!n.allDirty)if(n.indexCount!==t){const t=Math.min(n.indexFrom,o),e=Math.max(n.indexFrom+n.indexCount,o+x)-t;n.indexFrom=t,n.indexCount=e}else n.indexFrom=o,n.indexCount=x}markDirtyVertices(e,r,i,n){const o=this._dirties[e],x=i,l=n;if(!o.allDirty)if(o.vertexCount!==t){const t=Math.min(o.vertexFrom,x),e=Math.max(o.vertexFrom+o.vertexCount,x+l)-t;o.vertexFrom=t,o.vertexCount=e}else o.vertexFrom=x,o.vertexCount=l}}return e}));
