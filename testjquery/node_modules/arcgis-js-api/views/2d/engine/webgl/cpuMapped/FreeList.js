/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports"],(function(t){"use strict";class e{constructor(t){if(this.next=null,!Array.isArray(t))return void(this.data=t);this.data=t[0];let a=this;for(let n=1;n<t.length;n++)a.next=new e([t[n]]),a=a.next}*values(){let t=this;for(;t;)yield t.data,t=t.next}forEach(t){let e=this;for(;e;)t(e.data),e=e.next}find(t){return t(this.data)?this:this.next?.find(t)}max(t,e=this){const a=t(this.data)>t(e.data)?this:e;return this.next?this.next.max(t,a):a}remove(t,e=null){return this===t?e?(e.next=this.next,e):this.next:this.next?.remove(t,this)??null}get last(){return this.next?this.next.last:this}}class a{constructor(t){this._head=null,null!=t&&(this._head=new e(t))}get head(){return this._head}maxAvailableSpace(){if(null==this._head)return 0;const t=this._head.max((t=>t.end-t.start));return t.data.end-t.data.start}firstFit(t){if(null==this._head)return null;let e=null,a=this._head;for(;a;){const n=a.data.end-a.data.start;if(n===t)return e?e.next=a.next:this._head=a.next,a.data.start;if(n>t){const e=a.data.start;return a.data.start+=t,e}e=a,a=a.next}return null}free(t,a){const n=t+a;if(null==this._head){const a=new e({start:t,end:n});return void(this._head=a)}if(n<=this._head.data.start){if(n===this._head.data.start)return void(this._head.data.start-=a);const r=new e({start:t,end:n});return r.next=this._head,void(this._head=r)}let r=this._head,s=r.next;for(;s;){if(s.data.start>=n){if(r.data.end===t){if(r.data.end+=a,r.data.end===s.data.start){const t=s.data.end-s.data.start;return r.data.end+=t,void(r.next=s.next)}return}if(s.data.start===n)return void(s.data.start-=a);const d=new e({start:t,end:n});return d.next=r.next,void(r.next=d)}r=s,s=s.next}if(t===r.data.end)return void(r.data.end+=a);const d=new e({start:t,end:n});r.next=d}}t.FreeList=a,t.List=e,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
