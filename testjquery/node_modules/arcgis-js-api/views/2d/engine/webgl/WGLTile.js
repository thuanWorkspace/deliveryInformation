/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/mat2d","../../../../chunks/mat2df32","../../../../chunks/mat3","../../../../chunks/mat3f32","./definitions","./TiledDisplayObject"],(function(e,t,s,i,r,a,n){"use strict";class o{acquire(e){return{refCount:1,version:-1,labelMat2d:s.create(),tileMat3:r.create(),dvs:r.create()}}release(e){}}class l extends n.TiledDisplayObject{constructor(e,t,s,i){super(e,t,s,i,a.tileSize,a.tileSize)}destroy(){super.destroy(),this._transforms&&l.TransformCache.release(this.key.hash)}setTransform(e){const r=this.resolution/e.resolution,a=this.transforms.tileMat3,[n,o]=e.toScreenNoRotation([0,0],[this.x,this.y]),l=this.width/this.rangeX*r,c=this.height/this.rangeY*r;i.set(a,l,0,0,0,c,0,n,o,1),i.multiply(this.transforms.dvs,e.displayViewMat3,a);const h=this.transforms.labelMat2d,d=window.devicePixelRatio,u=t.set(s.create(),l*d,0,0,c*d,n*d,o*d);t.multiply(h,e.viewMat2d,u)}_createTransforms(){return l.TransformCache.acquire(this.key.hash)}}l.TransformCache=new o,e.WGLTile=l,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
