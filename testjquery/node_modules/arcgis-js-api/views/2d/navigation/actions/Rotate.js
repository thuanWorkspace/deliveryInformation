/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../../../../chunks/tslib.es6","../../../../geometry","../../../../Viewpoint","../../../../core/Accessor","../../../../core/accessorSupport/decorators/property","../../../../core/accessorSupport/ensureType","../../../../core/arrayUtils","../../../../core/has","../../../../core/accessorSupport/decorators/subclass","../../../../chunks/vec2","../../../../chunks/vec2f64","../../viewpointUtils","../../../../geometry/Point"],(function(e,t,r,o,s,i,n,c,a,p,u,d,v){"use strict";const y=u.create(),h=u.create();let w=class extends o{constructor(e){super(e),this._previousCenter=u.create(),this.viewpoint=new r({targetGeometry:new v,scale:0,rotation:0})}begin(e,t){this.navigation.begin(),p.set(this._previousCenter,t.center.x,t.center.y)}update(e,t){const{state:{size:r,padding:o}}=e;p.set(y,t.center.x,t.center.y),d.getAnchor(h,r,o),e.viewpoint=d.rotateBy(this.viewpoint,e.state.paddedViewState.viewpoint,d.angleBetween(h,this._previousCenter,y)),p.copy(this._previousCenter,y)}end(){this.navigation.end()}};e.__decorate([s.property()],w.prototype,"viewpoint",void 0),e.__decorate([s.property()],w.prototype,"navigation",void 0),w=e.__decorate([a.subclass("esri.views.2d.actions.Rotate")],w);return w}));
