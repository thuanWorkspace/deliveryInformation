/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../core/has","../../../input/InputHandler"],(function(e,t,a){"use strict";class s extends a.InputHandler{constructor(e,t,a){super(!0),this.view=e,this.pointerType=t,this.registerIncoming("double-tap-drag",a,(e=>this._handleDoubleTapDrag(e)))}_handleDoubleTapDrag(e){const{data:t}=e,{pointerType:a}=t;if(a!==this.pointerType)return;e.stopPropagation();const{action:s,delta:i}=t,{view:r}=this,{mapViewNavigation:n}=r;switch(s){case"begin":{const{scale:e}=r;this._startScale=e,this._currentScale=e,this._previousDelta=i,n.begin();break}case"update":{if(this._previousDelta.y===i.y)return;this._previousDelta=i;const e=1.015**i.y,t=this._startScale*e,a=t/this._currentScale;n.setViewpointImmediate(a),this._currentScale=t;break}case"end":{const{constraints:e}=r,{effectiveLODs:t,snapToZoom:a}=e;if(!a||!t)return void n.end();const s=e.snapScale(this._currentScale),o=(i.y>0?Math.max(s,e.snapToPreviousScale(this._startScale)):Math.min(s,e.snapToNextScale(this._startScale)))/this._currentScale;n.zoom(o);break}}}}e.DoubleTapDragZoom=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
