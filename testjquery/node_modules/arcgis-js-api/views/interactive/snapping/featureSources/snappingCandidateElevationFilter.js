/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../core/has"],(function(t,n){"use strict";class e{filter(t,n){return n}notifyElevationSourceChange(){}}class r{filter(t,n){const{point:e,distance:r}=t,{z:a}=e;if(!(null!=a))return n;if(0===n.length)return n;const o=u(r),c=this._updateCandidatesTo3D(n,e,o).filter(i);return c.sort(d),c}_updateCandidatesTo3D(t,n,e){for(const r of t)switch(r.type){case"edge":o(r,n,e);continue;case"vertex":s(r,n,e);continue}return t}}function i(t){return t.distance<=1}function a(t=!1){return t?new r:new e}function o(t,n,{x:e,y:r,z:i}){const{start:a,end:o,target:s}=t;t.draped||c(s,n,a,o);const u=(n.x-s.x)/e,d=(n.y-s.y)/r,f=(n.z-s.z)/i;t.distance=Math.sqrt(u*u+d*d+f*f)}function c(t,n,e,r){const i=r.x-e.x,a=r.y-e.y,o=r.z-e.z,c=i*i+a*a+o*o,s=(n.x-e.x)*i+(n.y-e.y)*a+o*(n.z-e.z),u=Math.min(1,Math.max(0,s/c)),d=e.x+i*u,f=e.y+a*u,y=e.z+o*u;t.x=d,t.y=f,t.z=y}function s(t,n,{x:e,y:r,z:i}){const{target:a}=t,o=(n.x-a.x)/e,c=(n.y-a.y)/r,s=(n.z-a.z)/i,u=Math.sqrt(o*o+c*c+s*s);t.distance=u}function u(t){return"number"==typeof t?{x:t,y:t,z:t}:t}function d(t,n){return t.distance-n.distance}t.getSnappingCandidateElevationFilter=a,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
