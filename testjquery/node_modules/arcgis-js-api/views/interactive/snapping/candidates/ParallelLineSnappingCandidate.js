/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/vec3","../../../../chunks/vec3f64","../../sketch/constraints","../../sketch/normalizedPoint","../SnappingDomain","../snappingUtils","./SnappingCandidate","../hints/LineSnappingHint","../hints/ParallelSnappingHint"],(function(e,t,n,i,a,s,r,d,g,f){"use strict";class h extends d.SnappingCandidate{constructor({referenceLine:e,lineStart:r,targetPoint:d,isDraped:g}){const f=n.clone(r),{left:h,right:p}=e;t.subtract(f,t.add(f,f,p),h),super(d,new i.VerticalPlaneConstraint(r,a.fromVec3(f)),g,s.SnappingDomain.SELF),this._referenceLines=[{edge:e,fadeLeft:!0,fadeRight:!0}]}get hints(){return[new g.LineSnappingHint(r.LineSegmentHintType.TARGET,this.constraint.start,this.targetPoint,this.isDraped,this.domain),new f.ParallelSnappingHint(this.constraint.start,this.targetPoint,this.isDraped,this.domain),...this._referenceLines.map((e=>new g.LineSnappingHint(r.LineSegmentHintType.REFERENCE,e.edge.left,e.edge.right,this.isDraped,this.domain,e.fadeLeft,e.fadeRight)))]}addReferenceLine(e){const n={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach((i=>{t.exactEquals(e.right,i.edge.left)&&(i.fadeLeft=!1,n.fadeRight=!1),t.exactEquals(e.right,i.edge.right)&&(i.fadeRight=!1,n.fadeRight=!1),t.exactEquals(e.left,i.edge.right)&&(i.fadeRight=!1,n.fadeLeft=!1),t.exactEquals(e.left,i.edge.left)&&(i.fadeLeft=!1,n.fadeLeft=!1)})),this._referenceLines.push(n)}}e.ParallelLineSnappingCandidate=h,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
