/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../core/time"],(function(e,t){"use strict";let o=class{constructor(){this.segments=[]}get time(){return this.segments.reduce(((e,o)=>t.Seconds(e+o.time)),t.Seconds(0))}interpolateComponentsAt(e,t){e=Math.min(Math.max(e,0),1),e*=this.time;let o=0,n=0;const s=this.definition;for(let i=0;i<this.segments.length;i++){const a=this.segments[i],m=a.definition;if(e<=a.time||i===this.segments.length-1){if(t=this.segmentInterpolateComponentsAt(a,0===a.time?0:e/a.time,t),s.hasPan&&!isNaN(t.pan)&&isFinite(s.compared.pan)?t.pan=(o+m.compared.pan*t.pan)/s.compared.pan:t.pan=1,s.hasRotate&&!isNaN(t.rotate)&&isFinite(s.compared.rotate)?t.rotate=(n+m.compared.rotate*t.rotate)/s.compared.rotate:t.rotate=1,s.hasZoom&&!isNaN(t.zoom)&&isFinite(m.compared.targetZoom)){const e=t.zoom*(m.compared.targetZoom-m.compared.sourceZoom)+m.compared.sourceZoom,o=this.segments[0].definition.compared.sourceZoom,n=this.segments[this.segments.length-1].definition.compared.targetZoom;t.zoom=(e-o)/(n-o)}else t.zoom=1;return t}e-=a.time,o+=m.compared.pan,n+=m.compared.rotate}}segmentInterpolateComponentsAt(e,t,o){return e.interpolateComponentsAt(t,o)}};e.Path=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
