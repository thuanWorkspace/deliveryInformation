/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../core/unitUtils","../../../chunks/vec3","../../../chunks/vec3f64","../../../support/elevationInfoUtils"],(function(e,t,r,o,n){"use strict";function s(e,o){const s=e?.geometry;if(!e||"mesh"!==s?.type||!o)return;const{renderCoordsHelper:u,elevationProvider:h}=o,{camera:d}=o.state,{extent:f}=s,{center:g,spatialReference:m}=f,p=t.getMetersPerUnitForSR(m),v=t.getMetersPerVerticalUnitForSR(m),M=t.getMetersPerUnitForSR(u.spatialReference),S=f.width*p,x=f.height*v,P=(f.zmax??0)*v,R=P-(f.zmin??0)*v,U=Math.max(S,x,R)/M,{x:y,y:z}=g,b=g.z??0;r.set(l,y,z,b),u.toRenderCoords(l,m,l);const F=U/d.computeScreenPixelSizeAt(l);if(F>d.width*a)return"meshTooClose";if(F<i)return"meshTooFar";const w=n.getGraphicEffectiveElevationInfo(e),{absoluteZ:C}=n.zValueInAbsoluteHeightMode(y,z,P,m,o,w);return C<(h.getElevation(y,z,b,m,"ground")??0)*v+R*c?"meshUnderground":"mesh"}const i=20,a=1,c=.1,l=o.create();e.getDrawMeshHelpMessage=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
