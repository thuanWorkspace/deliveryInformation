/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../../chunks/tslib.es6","../../core/has","../../core/Logger","../../core/reactiveUtils","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/arrayUtils","../../core/accessorSupport/decorators/subclass","./Component","./UI","../../widgets/Attribution","../../widgets/Compass","../../widgets/NavigationToggle","../../widgets/Zoom"],(function(t,e,o,i,s,n,r,a,c,d,p,u,h,_){"use strict";function g(t){return void 0!==t?.view}let w=class extends d{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=t=>{this.components.forEach((e=>{const o=this._find(e),i=o?.widget;g(i)&&(i.view=t)}))},this._componentsWatcher=(t,e)=>{this._removeComponents(e),this._addComponents(t),this._adjustPadding(t)}}initialize(){this.addHandles([i.watch((()=>this.components),this._componentsWatcher,i.initial),i.watch((()=>this.view),this._updateViewAwareWidgets,i.initial)])}_add(t,e,o,i,s){let n=t;if("string"==typeof t&&this._defaultPositionLookup[t]){if(this._find(t))return;n=this._createComponent(t)}super._add(n,e,o,i,s)}_removeComponents(t){t.forEach((t=>{const e=this._find(t);e&&(this.remove(e),e.destroy())}))}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:t}=this.padding;this.padding=t}}_addComponents(t){this.constructed&&t.forEach((t=>this.add(this._createComponent(t),this._defaultPositionLookup[t])))}_createComponent(t){const e=this._createWidget(t);return new c({id:t,node:e})}_createWidget(t){const{view:e}=this;switch(t){case"attribution":return new p({view:e});case"compass":return new u({view:e});case"navigation-toggle":return new h({view:e});case"zoom":return new _({view:e})}}};t.__decorate([s.property()],w.prototype,"components",void 0),w=t.__decorate([a.subclass("esri.views.ui.DefaultUI")],w);return w}));
