/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../core/screenUtils","../../state/controllers/RotateController","../../../input/InputHandler","../../../input/handlers/support"],(function(t,e,r,o,n){"use strict";class a extends o.InputHandler{constructor(t,e,r,o){super(!0),this._view=t,this.pointerAction=e,this._pivot=r,this.registerIncoming("drag",o,(t=>this._handleDrag(t)))}_handleDrag(t){const o=t.data;if(o.pointers.size>1)return;if(!n.eventMatchesMousePointerAction(t.data,this.pointerAction))return;const a=e.createScreenPointArray(o.center.x,o.center.y);switch(o.action){case"start":this._cameraController&&(this._cameraController.end(),this._cameraController=null),this._cameraController=new r.RotateController({view:this._view,pivot:this._pivot}),this._view.state.switchCameraController(this._cameraController),this._cameraController.begin(a);break;case"update":this._cameraController&&this._cameraController.update(a);break;case"end":this._cameraController&&(this._cameraController.end(),this._cameraController=null)}t.stopPropagation()}}Object.defineProperty(t,"PivotPoint",{enumerable:!0,get:()=>r.PivotPoint}),t.DragRotate=a,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
