/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../../../../chunks/Compositing.glsl","../shaders/CompositingTechnique","../shaders/CompositingTechniqueConfiguration","../../../../chunks/HUDCompositing.glsl","../shaders/HUDCompositingTechnique","../../../../chunks/OITCompositing.glsl","../shaders/OITCompositingTechnique"],(function(e,s,i,t,r,o,a){"use strict";class n{constructor(s,r){this._rctx=s,this._techniqueRepository=r,this._configuration=new i.CompositingTechniqueConfiguration,this._passParameters=new e.CompositingPassParameters,this._oitParameters=new o.OITCompositingPassParameters,this._hudParameters=new t.HUDCompositingPassParameters}compositeOIT(e,s,i,t){this._oitParameters.colorTexture=s,this._oitParameters.alphaTexture=i,this._oitParameters.frontFaceTexture=t;const r=this._techniqueRepository.acquire(a.OITCompositingTechnique);this._rctx.bindTechnique(r,this._oitParameters,e),this._rctx.screen.draw(),r.release()}compositeHUD(e,s){this._hudParameters.texture=s;const i=this._techniqueRepository.acquire(r.HUDCompositingTechnique);this._rctx.bindTechnique(i,this._hudParameters,e),this._rctx.screen.draw(),i.release()}composite(e,t,r=i.AlphaMode.None,o=1){this._configuration.alphaMode=r,this._configuration.hasOpacityFactor=1!==o,this._passParameters.texture=t,this._passParameters.opacity=o;const a=this._techniqueRepository.acquire(s.CompositingTechnique,this._configuration);this._rctx.bindTechnique(a,this._passParameters,e),this._rctx.screen.draw(),a.release()}}return n}));
