/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/vec3","../../../../chunks/vec3f64","../../../../geometry/support/triangle"],(function(e,t,n,s){"use strict";function c(e,n){if(!e)return!1;const{size:c,data:a,indices:i}=e;t.set(n,0,0,0),t.set(l,0,0,0);let u=0,f=0;for(let g=0;g<i.length-2;g+=3){const e=i[g]*c,h=i[g+1]*c,m=i[g+2]*c;t.set(r,a[e],a[e+1],a[e+2]),t.set(d,a[h],a[h+1],a[h+2]),t.set(o,a[m],a[m+1],a[m+2]);const p=s.areaPoints3d(r,d,o);p?(t.add(r,r,d),t.add(r,r,o),t.scale(r,r,1/3*p),t.add(n,n,r),u+=p):(t.add(l,l,r),t.add(l,l,d),t.add(l,l,o),f+=3)}return(0!==f||0!==u)&&(0!==u?(t.scale(n,n,1/u),!0):0!==f&&(t.scale(n,l,1/f),!0))}function a(e,n){if(!e)return!1;const{size:s,data:c,indices:a}=e;t.set(n,0,0,0);let i=-1,r=0;for(let t=0;t<a.length;t++){const e=a[t]*s;i!==e&&(n[0]+=c[e],n[1]+=c[e+1],n[2]+=c[e+2],r++),i=e}return r>1&&t.scale(n,n,1/r),r>0}function i(e,n,s){if(!e)return!1;t.set(s,0,0,0),t.set(l,0,0,0);let c=0,a=0;const{size:i,data:o,indices:u}=e,f=u.length-1,g=f+(n?2:0);for(let h=0;h<g;h+=2){const e=h<f?h+1:0,n=u[h<f?h:f]*i,g=u[e]*i;r[0]=o[n],r[1]=o[n+1],r[2]=o[n+2],d[0]=o[g],d[1]=o[g+1],d[2]=o[g+2],t.scale(r,t.add(r,r,d),.5);const m=t.dist(r,d);m>0?(t.add(s,s,t.scale(r,r,m)),c+=m):0===c&&(t.add(l,l,r),a++)}return 0!==c?(t.scale(s,s,1/c),!0):0!==a&&(t.scale(s,l,1/a),!0)}const r=n.create(),d=n.create(),o=n.create(),l=n.create();e.computeAttachmentOriginLines=i,e.computeAttachmentOriginPoints=a,e.computeAttachmentOriginTriangles=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
