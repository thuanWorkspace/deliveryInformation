/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../../geometry/support/meshUtils/deduplicate","../../../support/meshProcessing","../../../support/buffer/InterleavedLayout","../VertexAttribute","./bufferLayouts","./edgeBufferWriters","./edgePreprocessing"],(function(e,t,r,i,n,s,u,o){"use strict";function c(e){const t=a(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return g.updateSettings(e.writerSettings),d.updateSettings(e.writerSettings),o.extractEdges(t,g,d)}function a(e,i,n,u){if(i){const t=r.computeNeighbors(n,u,e.count);return new f(n,u,t,e)}const o=t.deduplicate(e.buffer,e.stride/4,{originalIndices:n,originalIndicesLength:u}),c=r.computeNeighbors(o.indices,u,o.uniqueCount);return{faces:o.indices,facesLength:o.indices.length,neighbors:c,vertices:s.EdgeInputBufferLayout.createView(o.buffer)}}class f{constructor(e,t,r,i){this.faces=e,this.facesLength=t,this.neighbors=r,this.vertices=i}}const g=new u.RegularEdgeBufferWriter,d=new u.SilhouetteEdgeBufferWriter,p=i.newLayout().vec3f(n.VertexAttribute.POSITION0).vec3f(n.VertexAttribute.POSITION1),b=i.newLayout().vec3f(n.VertexAttribute.POSITION0).vec3f(n.VertexAttribute.POSITION1).u16(n.VertexAttribute.COMPONENTINDEX);e.extract=c,e.extractComponentsEdgeLocationsLayout=b,e.extractEdgeInformation=a,e.extractEdgeLocationsLayout=p,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
