/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../core/Error"],(function(t,e){"use strict";const n=16;function i(t){return Math.ceil(t/n)*n}function a(t,e){const n=1048576,i=4096,a=2;let o=t.width*t.height;if(o<i)return t instanceof ImageData?h(t):t;let c=t.width,u=t.height;do{c=Math.ceil(c/a),u=Math.ceil(u/a),o=c*u}while(o>n||null!=e&&(c>e||u>e));return r(t,c,u)}function o(t,e){const n=Math.max(t.width,t.height);if(n<=e)return t;const i=e/n;return r(t,Math.round(t.width*i),Math.round(t.height*i))}function r(t,e,n){if(t instanceof ImageData)return r(h(t),e,n);const i=document.createElement("canvas");i.width=e,i.height=n;return i.getContext("2d").drawImage(t,0,0,i.width,i.height),i}function h(t){const n=document.createElement("canvas");n.width=t.width,n.height=t.height;const i=n.getContext("2d");if(null==i)throw new e("Failed to create 2d context from HTMLCanvasElement");return i.putImageData(t,0,0),n}t.applyTextureResizeModulo=i,t.downsampleImage=a,t.ensureImageMaxSize=o,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
