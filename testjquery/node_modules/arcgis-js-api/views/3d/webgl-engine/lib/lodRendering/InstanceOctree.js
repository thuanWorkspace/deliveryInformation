/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../../chunks/mat4f64","../../../../../chunks/vec3","../../../../../chunks/sphere","../../../support/mathUtils","../Octree"],(function(e,t,s,n,i,a){"use strict";class r extends a{constructor(e,s){super((e=>n.wrap(this._instanceData.view.boundingSphere.getVec(e,this._tmpSphere))),{maximumDepth:25}),this._instanceData=e,this._boundingSphere=s,this._tmpSphere=n.create(),this._tmpMat4=t.create()}addInstance(e){const t=this._instanceData.view.boundingSphere,n=this._instanceData.getCombinedModelTransform(e,this._tmpMat4);s.transformMat4(this._tmpSphere,this._boundingSphere.center,n),this._tmpSphere[3]=this._boundingSphere.radius*i.maxScale(n),t.setVec(e,this._tmpSphere),this.add([e])}removeInstance(e){this.remove([e])}}e.InstanceOctree=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
