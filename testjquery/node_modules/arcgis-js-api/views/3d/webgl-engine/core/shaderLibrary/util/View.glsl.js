/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../../../chunks/mat4","../../../../../../chunks/mat4f64","../../../../../../chunks/vec3","../../../../../../chunks/vec3f64","../../shaderModules/Float3DrawUniform","../../shaderModules/Float3PassUniform","../../shaderModules/FloatPassUniform","../../shaderModules/Matrix4DrawUniform","../../shaderModules/Matrix4PassUniform"],(function(a,r,e,i,n,o,s,t,c,m){"use strict";function d(a,r){r.instancedDoublePrecision?a.constants.add("cameraPosition","vec3",n.ZEROS):a.uniforms.add(new o.Float3DrawUniform("cameraPosition",((a,r)=>i.set(w,r.camera.viewInverseTransposeMatrix[3]-a.origin[0],r.camera.viewInverseTransposeMatrix[7]-a.origin[1],r.camera.viewInverseTransposeMatrix[11]-a.origin[2]))))}function l(a,e){if(!e.instancedDoublePrecision)return void a.uniforms.add(new m.Matrix4PassUniform("proj",((a,r)=>r.camera.projectionMatrix)),new c.Matrix4DrawUniform("view",((a,e)=>r.translate(f,e.camera.viewMatrix,a.origin))),new o.Float3DrawUniform("localOrigin",(a=>a.origin)));const n=a=>i.set(w,a.camera.viewInverseTransposeMatrix[3],a.camera.viewInverseTransposeMatrix[7],a.camera.viewInverseTransposeMatrix[11]);a.uniforms.add(new m.Matrix4PassUniform("proj",((a,r)=>r.camera.projectionMatrix)),new m.Matrix4PassUniform("view",((a,e)=>r.translate(f,e.camera.viewMatrix,n(e)))),new s.Float3PassUniform("localOrigin",((a,r)=>n(r))))}const f=e.create(),w=n.create();function u(a){a.uniforms.add(new m.Matrix4PassUniform("viewNormal",((a,r)=>r.camera.viewInverseTransposeMatrix)))}function v(a){a.uniforms.add(new t.FloatPassUniform("pixelRatio",((a,r)=>r.camera.pixelRatio/r.overlayStretch)))}a.addCameraPosition=d,a.addPixelRatio=v,a.addProjViewLocalOrigin=l,a.addViewNormal=u,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})}));
