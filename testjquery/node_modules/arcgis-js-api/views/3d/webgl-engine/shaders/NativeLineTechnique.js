/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["require","exports","../core/shaderLibrary/ShaderOutput","../core/shaderTechnique/ReloadableShaderModule","../core/shaderTechnique/ShaderTechnique","../lib/DefaultVertexAttributeLocations","../lib/Program","../lib/StencilUtils","../../../../chunks/NativeLine.glsl","../../../webgl/enums","../../../webgl/renderState"],(function(e,t,i,r,a,l,n,s,u,o,c){"use strict";class d extends a.ShaderTechnique{initializeProgram(e){return new n.Program(e.rctx,d.shader.get().build(this.configuration),l.Default3D)}initializePipeline(){const e=this.configuration,t=c.separateBlendingParams(o.BlendFactor.SRC_ALPHA,o.BlendFactor.ONE,o.BlendFactor.ONE_MINUS_SRC_ALPHA,o.BlendFactor.ONE_MINUS_SRC_ALPHA),r=(t,i=null,r=null)=>c.makePipelineState({blending:i,depthTest:s.depthCompareLess,depthWrite:r,colorWrite:c.defaultColorWriteParams,stencilWrite:e.hasOccludees?s.stencilWriteMaskOn:null,stencilTest:e.hasOccludees?t?s.stencilToolMaskBaseParams:s.stencilBaseAllZerosParams:null});return e.output===i.ShaderOutput.Color?(this._occludeePipelineState=r(!0,e.transparent?t:null,c.defaultDepthWriteParams),r(!1,e.transparent?t:null,c.defaultDepthWriteParams)):r(!1)}get primitiveType(){return o.PrimitiveType.LINES}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}d.shader=new r.ReloadableShaderModule(u.NativeLine,(()=>new Promise(((t,i)=>e(["./NativeLine.glsl"],t,i))))),t.NativeLineTechnique=d,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
