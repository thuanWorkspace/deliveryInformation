/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["require","exports","../../../../chunks/tslib.es6","../core/shaderTechnique/ReloadableShaderModule","../core/shaderTechnique/ShaderTechnique","../core/shaderTechnique/ShaderTechniqueConfiguration","../lib/DefaultVertexAttributeLocations","../lib/OrderIndependentTransparency","../lib/Program","../lib/TransparencyPassType","../materials/DefaultTechniqueConfiguration","../../../../chunks/MeasurementArrow.glsl","../../../webgl/enums","../../../webgl/renderState"],(function(e,r,t,n,a,i,s,o,u,l,c,p,d,h){"use strict";class T extends a.ShaderTechnique{constructor(e,r,t){super(e,r,t)}initializeProgram(e){return new u.Program(e.rctx,T.shader.get().build(this.configuration),s.Default3D)}_setPipelineState(e){const r=e===l.TransparencyPassType.NONE,t=this.configuration;return h.makePipelineState({blending:t.transparent?r?o.blendingDefault:o.oitBlending(e):null,polygonOffset:this.configuration.polygonOffsetEnabled?{factor:0,units:-4}:null,depthTest:{func:d.CompareFunction.LESS},depthWrite:h.defaultDepthWriteParams,colorWrite:h.defaultColorWriteParams})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}get primitiveType(){return d.PrimitiveType.TRIANGLE_STRIP}}T.shader=new n.ReloadableShaderModule(p.MeasurementArrow,(()=>new Promise(((r,t)=>e(["./MeasurementArrow.glsl"],r,t)))));class f extends c.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.polygonOffsetEnabled=!1,this.transparent=!1,this.transparencyPassType=l.TransparencyPassType.NONE}}t.__decorate([i.parameter()],f.prototype,"polygonOffsetEnabled",void 0),t.__decorate([i.parameter()],f.prototype,"transparent",void 0),t.__decorate([i.parameter({count:l.TransparencyPassType.COUNT})],f.prototype,"transparencyPassType",void 0),r.MeasurementArrowTechnique=T,r.MeasurementArrowTechniqueConfiguration=f,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})}));
