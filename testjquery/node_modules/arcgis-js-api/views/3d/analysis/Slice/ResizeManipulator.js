/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../Color","../../../../core/reactiveUtils","../../../../chunks/vec3f64","./sliceToolConfig","./sliceToolUtils","../../interactive/Manipulator3D","../../interactive/manipulatorUtils","../../interactive/RenderObject","../../webgl-engine/lib/GeometryUtil","../../webgl-engine/lib/Material","../../webgl-engine/materials/RibbonLineMaterial","../../../interactive/interfaces"],(function(e,t,i,r,a,n,l,o,s,c,d,u,m){"use strict";class b extends l.Manipulator3D{constructor(e,r){const l=n.isDiagonalResizeHandle(r),s=l?a.resizeHandleCornerWidth:a.resizeHandleEdgeWidth,c=s*a.displayFocusMultiplier,m=a.resizeHandleEdgeWidth,b={renderOccluded:d.RenderOccludedFlag.OccludeAndTransparent,isDecoration:!0},p=new u.RibbonLineMaterial({...b,width:s}),M=new u.RibbonLineMaterial({...b,width:c}),g=new u.RibbonLineMaterial({...b,width:m});super({view:e,...o.worldScaledManipulatorSettings,...f({isCorner:l,unfocusedMaterial:p,focusedMaterial:M,outlineMaterial:g})}),this._themeHandle=i.watch((()=>e.effectiveTheme.accentColor),(e=>{const i=t.toUnitRGBA(e);p.setParameters({color:i}),M.setParameters({color:i}),g.setParameters({color:i})}),i.initial)}destroy(){this._themeHandle.remove(),super.destroy()}}function f({isCorner:e,unfocusedMaterial:t,focusedMaterial:i,outlineMaterial:l}){const o=e?[r.fromValues(1,0,0),r.fromValues(0,0,0),r.fromValues(0,1,0)]:[r.fromValues(1,0,0),r.fromValues(-1,0,0)];return{renderObjects:[new s.RenderObject(c.createPolylineGeometry(t,o),m.ManipulatorStateFlags.Unfocused|n.resizeNormal),new s.RenderObject(c.createPolylineGeometry(i,o),m.ManipulatorStateFlags.Focused|n.resizeNormal),new s.RenderObject(c.createPolylineGeometry(l,o),n.resizeOutlineOnly)],collisionType:{type:"line",paths:[o]},radius:e?a.resizeHandleCornerInputRadius:a.resizeHandleEdgeInputRadius,state:n.resizeNormal}}e.ResizeManipulator=b,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
