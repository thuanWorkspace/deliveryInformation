/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../../../chunks/tslib.es6","../../../core/Accessor","../../../core/maybe","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/ensureType","../../../core/arrayUtils","../../../core/has","../../../core/accessorSupport/decorators/subclass","../../../properties/defaultUnit","./AnalysisView3D","./interfaces","./DirectLineMeasurement/DirectLineMeasurementController","./DirectLineMeasurement/DirectLineMeasurementVisualization"],(function(e,t,i,a,s,l,r,o,n,u,p,y,d){"use strict";let c=class extends(u.AnalysisView3D(t)){constructor(e){super(e),this.type="direct-line-measurement-view-3d",this.analysis=null,this.result=null,this.measurementMode=p.MeasurementMode.Auto,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null}initialize(){const e=this.view,t=this.analysis;this._analysisVisualization=new d.DirectLineMeasurementVisualization({view:e,analysis:t,analysisView:this}),this._analysisController=new y.DirectLineMeasurementController({view:e,analysis:t,viewData:this})}destroy(){this._analysisController=i.destroyMaybe(this._analysisController),this._analysisVisualization=i.destroyMaybe(this._analysisVisualization)}get updating(){return!!this._analysisVisualization?.loadingMessages}get viewMode(){return this._analysisVisualization.viewMode}get actualVisualizedMeasurement(){return this._analysisVisualization.actualVisualizedMeasurement}get visualElementOrientation(){return this._analysisVisualization.visualElementOrientation}set visualElementOrientation(e){this._analysisVisualization.visualElementOrientation=e}get allowVisualElementsOrientationChange(){return this._analysisVisualization.allowVisualElementsOrientationChange}set allowVisualElementsOrientationChange(e){this._analysisVisualization.allowVisualElementsOrientationChange=e}get triangleCollapseRatioThreshold(){return this._analysisVisualization.triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(e){this._analysisVisualization.triangleCollapseRatioThreshold=e}get directLabelText(){return this._analysisVisualization.labels.direct?.text??""}get horizontalLabelText(){return this._analysisVisualization.labels.horizontal?.text??""}get verticalLabelText(){return this._analysisVisualization.labels.vertical?.text??""}get unit(){return this.analysis.unit??this._defaultUnit}get testData(){return this.destroyed?{labels:null,stripeLength:null,visualization:null,controller:null}:{...this._analysisVisualization?.testData,visualization:this._analysisVisualization,controller:this._analysisController}}};e.__decorate([a.property()],c.prototype,"updating",null),e.__decorate([a.property({readOnly:!0})],c.prototype,"type",void 0),e.__decorate([a.property({constructOnly:!0,nonNullable:!0})],c.prototype,"analysis",void 0),e.__decorate([a.property()],c.prototype,"result",void 0),e.__decorate([a.property()],c.prototype,"measurementMode",void 0),e.__decorate([a.property()],c.prototype,"elevationAlignedStartPoint",void 0),e.__decorate([a.property()],c.prototype,"elevationAlignedEndPoint",void 0),e.__decorate([a.property({readOnly:!0})],c.prototype,"viewMode",null),e.__decorate([a.property({readOnly:!0})],c.prototype,"actualVisualizedMeasurement",null),e.__decorate([a.property()],c.prototype,"visualElementOrientation",null),e.__decorate([a.property()],c.prototype,"allowVisualElementsOrientationChange",null),e.__decorate([a.property()],c.prototype,"triangleCollapseRatioThreshold",null),e.__decorate([a.property({readOnly:!0})],c.prototype,"directLabelText",null),e.__decorate([a.property({readOnly:!0})],c.prototype,"horizontalLabelText",null),e.__decorate([a.property({readOnly:!0})],c.prototype,"verticalLabelText",null),e.__decorate([a.property()],c.prototype,"_analysisVisualization",void 0),e.__decorate([a.property()],c.prototype,"_analysisController",void 0),e.__decorate([a.property()],c.prototype,"unit",null),e.__decorate([a.property(n.defaultUnitPropertyMetadata)],c.prototype,"_defaultUnit",void 0),c=e.__decorate([o.subclass("esri.views.3d.analysis.DirectLineMeasurementAnalysisView3D")],c);return c}));
