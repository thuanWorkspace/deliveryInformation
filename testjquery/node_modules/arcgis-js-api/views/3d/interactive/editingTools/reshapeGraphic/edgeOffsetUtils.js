/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../../core/screenUtils","../../../../../chunks/mat4f64","../../../../../chunks/vec3","../../../../../chunks/vec3f64","../../../../../geometry/support/plane","../../../../../layers/graphics/dehydratedPoint","../../../../interactive/editGeometry/operations/OffsetEdgeVertex"],(function(e,r,n,t,o,c,s,a){"use strict";function d(e,r,n){const t="on-the-ground"===n.mode?a.PlaneType.XY:a.PlaneType.XYZ;return new a.OffsetEdgeVertex(e,t,r,0)}function i(e,r,n){const s=o.create();if(!e.renderCoordsHelper.toRenderCoords(r,s))return null;const a=l(e,r,c.normal(n.plane)),d=l(e,r,n.edgeDirection);if(null==a||null==d)return null;const i=t.cross(o.create(),a,d);return c.fromPositionAndNormal(s,i,c.create())}function l(e,r,n){const c=s.makeDehydratedPoint(r.x+n[0],r.y+n[1],r.z+n[2],r.spatialReference),a=o.create(),d=o.create();return e.renderCoordsHelper.toRenderCoords(r,a)&&e.renderCoordsHelper.toRenderCoords(c,d)?t.direction(d,a,d):null}function u(e,r,s){const a=c.normal(e),d=t.direction(o.create(),r,s),i=t.cross(o.create(),d,a),l=t.cross(o.create(),d,i);return n.fromValues(d[0],d[1],d[2],0,i[0],i[1],i[2],0,l[0],l[1],l[2],0,0,0,0,1)}function f(e,n,o){const c=o.projectToRenderScreen(e,r.createRenderScreenPointArray3()),s=o.projectToRenderScreen(n,r.createRenderScreenPointArray3());return null!=c&&null!=s?t.squaredLength(t.subtract(c,c,s)):0}e.createEdgeOffsetIntersectionPlane=i,e.createEdgeOffsetOperation=d,e.edgeOffsetRotationMatrix=u,e.screenEdgeLengthSquared=f,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
