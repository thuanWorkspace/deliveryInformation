/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/mat4","../../../../chunks/vec2","../../../../chunks/vec2f64","../../../../chunks/vec3","../../../../chunks/vec3f64","../../../../chunks/vec4","../../../../chunks/vec4f64","./Object3DVisualElement","../../webgl-engine/lib/Attribute","../../webgl-engine/lib/Geometry","../../webgl-engine/lib/Material","../../webgl-engine/lib/VertexAttribute","../../webgl-engine/materials/CheckerBoardMaterial"],(function(e,t,r,c,s,i,a,l,o,n,h,u,d,_){"use strict";class g extends o.Object3DVisualElement{constructor(e){super(e),this._checkerBoardMaterial=null,this._renderOccluded=u.RenderOccludedFlag.OccludeAndTransparent,this._geometry=null,this._size=c.fromValues(1,1),this._color1=l.fromValues(1,.5,0,.5),this._color2=l.fromValues(1,1,1,.5),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get size(){return this._size}set size(e){r.copy(this._size,e),this._updateMaterial()}get color1(){return this._color1}set color1(e){a.exactEquals(e,this._color1)||(a.copy(this._color1,e),this._updateMaterial())}get color2(){return this._color2}set color2(e){a.exactEquals(e,this._color2)||(a.copy(this._color2,e),this._updateMaterial())}_updateMaterial(){null!=this._checkerBoardMaterial&&this._checkerBoardMaterial.setParameters({size:this._size,color1:this._color1,color2:this._color2,renderOccluded:this._renderOccluded})}createExternalResources(){this._checkerBoardMaterial=new _.CheckerBoardMaterial({size:this._size,color1:this._color1,color2:this._color2,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:u.RenderOccludedFlag.OccludeAndTransparent,isDecoration:this.isDecoration})}destroyExternalResources(){this._checkerBoardMaterial=null}forEachExternalMaterial(e){null!=this._checkerBoardMaterial&&e(this._checkerBoardMaterial)}createGeometries(e){if(null==this._geometry||null==this._checkerBoardMaterial)return;const r=m;t.getTranslation(r,this.transform);const c=this._geometry,a=[],l=i.create();c.position.forEach((e=>{s.subtract(l,e,r),a.push(l[0],l[1],l[2])}));const o=[];c.uv.forEach((e=>{o.push(e[0],e[1])}));const u=new h.Geometry(this._checkerBoardMaterial,[[d.VertexAttribute.POSITION,new n.Attribute(a,c.triangleIndices,3,!0)],[d.VertexAttribute.UV0,new n.Attribute(o,c.triangleIndices,2,!0)]]);e.addGeometry(u)}}const m=i.create();e.MeasurementAreaVisualElement=g,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
