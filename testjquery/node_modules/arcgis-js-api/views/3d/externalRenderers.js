/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../core/deprecate","../../core/Logger","../../chunks/mat4f64","../../geometry/projection/computeTranslationToOriginAndRotation","../../geometry/projection/projectBuffer","./externalRenderers/ExternalRendererStore"],(function(e,r,n,t,o,i,s){"use strict";const d=new s.ExternalRendererStore;function a(e,r){d.add(e,r)}function c(e,r){d.remove(e,r)}function u(e){e._stage.renderView.requestRender()}function f(e,r,n,t,o,s,d){return t=t||e.spatialReference,i.projectBuffer(r,t,n,o,e.renderCoordsHelper.spatialReference,s,d)?o:null}function l(e,r,n,t,o,s,d){return s=s||e.spatialReference,i.projectBuffer(r,e.renderCoordsHelper.spatialReference,n,t,s,o,d)?t:null}function p(e,r,n,i){return i||(i=t.create()),n=n||e.spatialReference,o.computeTranslationToOriginAndRotation(n,r,i,e.renderCoordsHelper.spatialReference)?i:null}function R(e){return e.state.camera.clone()}function m(e){return{add:a.bind(this,e),remove:c.bind(this,e),requestRender:u.bind(this,e),toRenderCoordinates:f.bind(this,e),fromRenderCoordinates:l.bind(this,e),renderCoordinateTransformAt:p.bind(this,e)}}function g(e){const t=n.getLogger("esri/views/3d/externalRenderers");r.deprecatedFunction(t,"forceWebGLContext",{moduleName:"esri/views/3d/externalRenderers",version:"4.27",see:"https://developers.arcgis.com/javascript/latest/system-requirements/"}),2!==e&&t.warn(`Requested context version '${e}' is not supported! Using a WebGL2 context.`)}e.add=a,e.bind=m,e.forceWebGLContext=g,e.fromRenderCoordinates=l,e.getRenderCamera=R,e.remove=c,e.renderCoordinateTransformAt=p,e.requestRender=u,e.toRenderCoordinates=f,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
