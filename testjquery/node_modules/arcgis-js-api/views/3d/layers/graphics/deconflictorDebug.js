/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../support/debugFlags"],(function(e,t){"use strict";let n,l,i=!1,o=!1,a=!1,s=!1,c=null;function r(e,t){if(!o||!l)return;d();const n=l;let i=0;for(let l=0;l<e.accBinsNumX;l++)for(let t=0;t<e.accBinsNumY;t++){const o=e.accBins[l][e.accBinsNumY-1-t];i+=o.length;const a=l*e.accBinsSizeX,s=(l+1)*e.accBinsSizeX,c=t*e.accBinsSizeY,r=(t+1)*e.accBinsSizeY;n.fillText(o.length.toFixed(),a+5,c+15),b(a,s,c,r,"blue")}n.fillText("total totalShownLabels: "+i,70,40),n.fillText("total visible labels: "+t.size,70,50),n.fillText("total numTests: "+e.accNumTests,70,30)}function u(e){a=t.debugFlags.DECONFLICTOR_SHOW_VISIBLE,s=t.debugFlags.DECONFLICTOR_SHOW_INVISIBLE,i=a||s,o=t.debugFlags.DECONFLICTOR_SHOW_GRID,c=null,i||o?c=()=>p(e):n&&(n.parentElement.removeChild(n),n=null)}function d(){c&&(c(),c=null)}function p(e){null==n&&(n=document.createElement("canvas"),n.setAttribute("id","debugCanvas2d"),e.surface.parentElement.style.position="relative",e.surface.parentElement.appendChild(n));const{state:t}=e,{camera:i,pixelRatio:o}=t,{width:a,height:s}=i,c=a*o,r=s*o;n.setAttribute("width",`${c}px`),n.setAttribute("height",`${r}px`),n.setAttribute("style",`position:absolute;left:0px;top:0px;display:block;pointer-events:none;width:${a}px;height:${s}px`),l=n.getContext("2d"),l.clearRect(0,0,a,s),l.font="12px Arial"}function b(e,t,i,o,a){d();const s=n.height,c=l;c.beginPath(),c.lineWidth=1,c.strokeStyle=a,c.moveTo(e,s-i),c.lineTo(t,s-i),c.stroke(),c.lineTo(t,s-o),c.stroke(),c.lineTo(t,s-i),c.stroke(),c.lineTo(e,s-i),c.stroke(),c.lineTo(e,s-i),c.stroke(),c.closePath()}function f(e,t){i&&(t&&a||!t&&s)&&b(e.aabr[0],e.aabr[2],e.aabr[1],e.aabr[3],t?"green":"red")}e.drawAccelerationStruct=r,e.drawPoly=f,e.prepare=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
