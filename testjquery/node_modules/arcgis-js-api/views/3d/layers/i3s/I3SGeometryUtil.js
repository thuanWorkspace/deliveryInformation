/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/vec3","../../../../chunks/vec3f64","../../../../geometry/projection/projectBuffer","../../../../geometry/support/aaBoundingBox","../../../../geometry/support/DoubleArray"],(function(e,t,r,n,o,a){"use strict";function u(e,t,r){const u=a.newDoubleArray(24);return a=>{let f=a.meta.featureExtents;if(null==f){f=new Float64Array(6*a.meta.featureIds.length),a.meta.featureExtents=f;for(let e=0;e<f.length;e+=6)f[e]=Number.POSITIVE_INFINITY}const c=new Float64Array(f.buffer,6*a.index*Float64Array.BYTES_PER_ELEMENT,6);return c[0]===Number.POSITIVE_INFINITY&&(i(a.index,r,a.meta.objectHandle,u,0),n.projectBuffer(u,t,0,u,e,0,8)?(o.set(c,o.negativeInfinity),o.expandWithBuffer(c,u,0,8)):o.set(c,o.zero)),c}}function i(e,r,n,o,a){const u=r.getComponentAabb(n,e,c),i=r.getObjectTransform(n);for(let f=0;f<8;++f)s[0]=1&f?u[0]:u[3],s[1]=2&f?u[1]:u[4],s[2]=4&f?u[2]:u[5],t.transformMat3(s,s,i.rotationScale),t.add(s,s,i.position),o[a++]=s[0],o[a++]=s[1],o[a++]=s[2];return o}const f=24,c=o.create(),s=r.create();e.boundingBoxCornerPoints=i,e.boundingBoxCornersPointsStride=f,e.createGetFeatureExtent=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
