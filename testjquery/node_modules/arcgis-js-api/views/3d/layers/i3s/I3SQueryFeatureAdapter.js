/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../geometry/support/aaBoundingBox","../../../../layers/graphics/centroid","../../../../layers/graphics/OptimizedGeometry","./I3SUtil"],(function(t,e,r,i,n){"use strict";class o{constructor(t){this._objectIdField=t.objectIdField,this._getFeatureExtent=t.getFeatureExtent}getObjectId(t){return t.id}getAttributes(t){const{meta:e,index:r}=t,i={};this._objectIdField&&(i[this._objectIdField]=t.id);const o=e.attributeInfo?.attributeData;if(null!=o)for(const u of Object.keys(o))i[u]=n.getCachedAttributeValue(o[u],r);return i}getAttribute(t,e){if(e===this._objectIdField)return t.id;const{meta:r,index:i}=t,o=r.attributeInfo?.attributeData;return null!=o?n.getCachedAttributeValue(o[e],i):null}getGeometry(t){if(t.geometry)return t.geometry;const[e,r,n,o,a]=this._getFeatureExtent(t,u);return new i([5],[e,r,n,o,r,n,o,a,n,e,a,n,e,r,n])}getCentroid(t,e){if(t.geometry)return r.getCentroidOptimizedGeometry(new i,t.geometry,e.hasZ,e.hasM);const[n,o,a,d,s,c]=this._getFeatureExtent(t,u);return new i([0],[(n+d)/2,(o+s)/2,(a+c)/2])}cloneWithGeometry(t,e){const{id:r,index:i,meta:n}=t;return{id:r,index:i,meta:n,geometry:e}}}const u=e.create();t.I3SQueryFeatureAdapter=o,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
