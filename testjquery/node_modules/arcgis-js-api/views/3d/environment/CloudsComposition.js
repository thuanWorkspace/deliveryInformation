/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/tslib.es6","../../../core/Accessor","../../../core/maybe","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/ensureType","../../../core/arrayUtils","../../../core/has","../../../core/accessorSupport/decorators/subclass","./CloudsCompositionTechnique","../webgl-engine/core/shaderModules/interfaces","../webgl-engine/lib/glUtil3D","../../webgl/enums"],(function(e,o,t,s,r,i,n,c,a,u,d,p,l){"use strict";e.CloudsComposition=class extends t{constructor(e){super(e),this._technique=new u.CloudsCompositionTechnique(e),this._vao=p.createQuadVAO(e.rctx)}destroy(){this._technique=s.releaseMaybe(this._technique),this._vao=s.disposeMaybe(this._vao)}render(e){if(!this._technique.compiled)return void this.requestRender();const o=e.bindParameters.cloudsFade;if(null==this._vao||null==o.data)return;const t=e.rctx.bindTechnique(this._technique,h,e.bindParameters);e.rctx.bindVAO(this._vao),t.assertCompatibleVertexAttributeLocations(this._vao),e.rctx.drawArrays(l.PrimitiveType.TRIANGLE_STRIP,0,4)}},o.__decorate([r.property({constructOnly:!0})],e.CloudsComposition.prototype,"rctx",void 0),o.__decorate([r.property({constructOnly:!0})],e.CloudsComposition.prototype,"viewingMode",void 0),o.__decorate([r.property({constructOnly:!0})],e.CloudsComposition.prototype,"planetRadius",void 0),o.__decorate([r.property({constructOnly:!0})],e.CloudsComposition.prototype,"requestRender",void 0),e.CloudsComposition=o.__decorate([a.subclass("esri.views.3d.environment.CloudsComposition")],e.CloudsComposition);const h=new d.NoParameters;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
