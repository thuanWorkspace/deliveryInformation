/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../../core/screenUtils","../../../../chunks/vec2","../../../../chunks/vec3","../../../../geometry/support/ray","../../../../geometry/support/vectorStacks"],(function(e,r,n,t,o,c){"use strict";function i(e,n,c=o.create()){return s(e,r.screenPointObjectToArray(n),c),t.normalize(c.direction,c.direction),c}function s(e,n,t){return u(e,e.screenToRender(n,r.castRenderScreenPointArray3(c.sv3d.get())),t)}function u(e,o,i){const s=r.castRenderScreenPointArray3(n.copy(c.sv3d.get(),o));if(s[2]=0,!e.unprojectFromRenderScreen(s,i.origin))return null;const u=r.castRenderScreenPointArray3(n.copy(c.sv3d.get(),o));u[2]=1;const d=e.unprojectFromRenderScreen(u,c.sv3d.get());return null==d?null:(t.subtract(i.direction,d,i.origin),i)}function d(e,n,t){return a(e,e.screenToRender(n,r.castRenderScreenPointArray3(c.sv3d.get())),t)}function a(e,r,n){t.copy(n.origin,e.eye);const o=t.set(c.sv3d.get(),r[0],r[1],1),i=e.unprojectFromRenderScreen(o,c.sv3d.get());return null==i?null:(t.subtract(n.direction,i,n.origin),n)}e.fromRender=u,e.fromRenderAtEye=a,e.fromScreen=s,e.fromScreenAtEye=d,e.fromScreenNormalized=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
