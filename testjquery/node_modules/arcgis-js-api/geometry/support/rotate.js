/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../../geometry","./coordsUtils","../Polygon","../Polyline","../Point","../Multipoint"],(function(n,e,t,s,i,o){"use strict";function r(n,e,t,s){const i=[];for(const o of n){const n=o.slice(0);i.push(n);const r=e*(o[0]-s.x)-t*(o[1]-s.y)+s.x,a=t*(o[0]-s.x)+e*(o[1]-s.y)+s.y;n[0]=r,n[1]=a}return i}function a(n,a,c){const{hasM:x,hasZ:l,spatialReference:f}=n,h=a*Math.PI/180,u=Math.cos(h),y=Math.sin(h);if("xmin"in n&&(c=c??n.center,n=new t({spatialReference:f,rings:[[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]]]})),"paths"in n){c=c??n.extent.center;const e=[];for(const t of n.paths)e.push(r(t,u,y,c));return new s({hasM:x,hasZ:l,spatialReference:f,paths:e})}if("rings"in n){c=c??n.extent.center;const s=[];for(const t of n.rings){const n=e.isClockwise(t),i=r(t,u,y,c);e.isClockwise(i)!==n&&i.reverse(),s.push(i)}return new t({hasM:x,hasZ:l,spatialReference:f,rings:s})}if("x"in n){c=c??n;const e=new i({x:u*(n.x-c.x)-y*(n.y-c.y)+c.x,y:y*(n.x-c.x)+u*(n.y-c.y)+c.y,spatialReference:f});return null!=n.z&&(e.z=n.z),null!=n.m&&(e.m=n.m),e}return"points"in n?(c=c??n.extent.center,new o({hasM:x,hasZ:l,points:r(n.points,u,y,c),spatialReference:f})):null}return a}));
