/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../core/mathUtils","../../chunks/mat4","../../chunks/vec3f64","./localRotationUtils","./projectors","../support/spatialReferenceUtils"],(function(o,e,t,n,i,c,r){"use strict";function a(o,e,n,a){if(null==o||null==a)return!1;const E=c.classifySpatialReference(o,c.sourceClassificationCache),j=c.classifySpatialReference(a,c.destClassificationCache);if(E===j&&!l(j)&&(E!==c.ProjectionID.UNKNOWN||r.equals(o,a)))return t.fromTranslation(n,e),!0;if(l(j)){const o=c.projectionTable[E][c.ProjectionID.LON_LAT],t=c.projectionTable[c.ProjectionID.LON_LAT][j];return null!=o&&null!=t&&(o(e,0,s,0),t(s,0,u,0),i.computeENUToSphericalPCPFLocalRotation(P*s[0],P*s[1],n),n[12]=u[0],n[13]=u[1],n[14]=u[2],!0)}if((j===c.ProjectionID.WEB_MERCATOR||j===c.ProjectionID.PLATE_CARREE)&&(E===c.ProjectionID.WGS84||E===c.ProjectionID.CGCS2000&&j===c.ProjectionID.PLATE_CARREE||E===c.ProjectionID.SPHERICAL_ECEF||E===c.ProjectionID.WEB_MERCATOR)){const o=c.projectionTable[E][c.ProjectionID.LON_LAT],r=c.projectionTable[c.ProjectionID.LON_LAT][j];return null!=o&&null!=r&&(o(e,0,s,0),r(s,0,u,0),E===c.ProjectionID.SPHERICAL_ECEF?i.computeSphericalPCPFToENULocalRotation(P*s[0],P*s[1],n):t.identity(n),n[12]=u[0],n[13]=u[1],n[14]=u[2],!0)}return!1}function l(o){return o===c.ProjectionID.SPHERICAL_ECEF||o===c.ProjectionID.SPHERICAL_MARS_PCPF||o===c.ProjectionID.SPHERICAL_MOON_PCPF}const P=e.deg2rad(1),s=n.create(),u=n.create();o.computeTranslationToOriginAndRotation=a,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})}));
