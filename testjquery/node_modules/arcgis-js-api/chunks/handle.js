/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","./index","./dom","./loadable","./locale","./t9n","./icon"],(function(e,t,a,i,n,s,c){"use strict";
/*!
   * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
   * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
   * v1.9.2
   */const l={handle:"handle",handleActivated:"handle--activated"},o={drag:"drag"},d=":host{display:flex}.handle{display:flex;cursor:move;align-items:center;justify-content:center;align-self:stretch;border-style:none;background-color:transparent;outline-color:transparent;color:var(--calcite-ui-border-input);padding-block:0.75rem;padding-inline:0.25rem;line-height:0}.handle:hover{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.handle:focus{color:var(--calcite-ui-text-1);outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\n            -2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-ui-focus-offset-invert),\n                1\n              )\n            )\n          )}.handle--activated{background-color:var(--calcite-ui-foreground-3);color:var(--calcite-ui-text-1)}.handle calcite-icon{color:inherit}:host([hidden]){display:none}[hidden]{display:none}",r=t.proxyCustomElement(class extends t.H{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteHandleNudge=t.createEvent(this,"calciteHandleNudge",6),this.calciteInternalHandleChange=t.createEvent(this,"calciteInternalHandleChange",6),this.handleKeyDown=e=>{switch(e.key){case" ":this.activated=!this.activated,e.preventDefault();break;case"ArrowUp":if(!this.activated)return;e.preventDefault(),this.calciteHandleNudge.emit({direction:"up"});break;case"ArrowDown":if(!this.activated)return;e.preventDefault(),this.calciteHandleNudge.emit({direction:"down"})}},this.handleBlur=()=>{this.activated=!1},this.activated=!1,this.dragHandle=void 0,this.messages=void 0,this.setPosition=void 0,this.setSize=void 0,this.label=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}handleAriaTextChange(){const e=this.getAriaText("live");e&&this.calciteInternalHandleChange.emit({message:e})}onMessagesChange(){}connectedCallback(){s.connectMessages(this),n.connectLocalized(this)}async componentWillLoad(){i.setUpLoadableComponent(this),await s.setUpMessages(this)}componentDidLoad(){i.setComponentLoaded(this)}disconnectedCallback(){s.disconnectMessages(this),n.disconnectLocalized(this)}effectiveLocaleChange(){s.updateMessages(this,this.effectiveLocale)}async setFocus(){await i.componentFocusable(this),this.handleButton?.focus()}getAriaText(e){const{setPosition:t,setSize:a,label:i,messages:n,activated:s}=this;if(!n||!i||"number"!=typeof a||"number"!=typeof t)return null;return("label"===e?s?n.dragHandleChange:n.dragHandleIdle:s?n.dragHandleActive:n.dragHandleCommit).replace("{position}",t.toString()).replace("{itemLabel}",i).replace("{total}",a.toString())}render(){return t.h("span",{"aria-label":this.getAriaText("label"),"aria-pressed":a.toAriaBoolean(this.activated),class:{[l.handle]:!0,[l.handleActivated]:this.activated},onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,role:"button",tabindex:"0",title:this.messages?.dragHandle,ref:e=>{this.handleButton=e}},t.h("calcite-icon",{icon:o.drag,scale:"s"}))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messages:["handleAriaTextChange"],label:["handleAriaTextChange"],activated:["handleAriaTextChange"],setPosition:["handleAriaTextChange"],setSize:["handleAriaTextChange"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return d}},[1,"calcite-handle",{activated:[1540],dragHandle:[513,"drag-handle"],messages:[16],setPosition:[2,"set-position"],setSize:[2,"set-size"],label:[1],messageOverrides:[16],effectiveLocale:[32],defaultMessages:[32],setFocus:[64]}]);function h(){if("undefined"==typeof customElements)return;["calcite-handle","calcite-icon"].forEach((e=>{switch(e){case"calcite-handle":customElements.get(e)||customElements.define(e,r);break;case"calcite-icon":customElements.get(e)||c.defineCustomElement()}}))}h(),e.defineCustomElement=h}));
