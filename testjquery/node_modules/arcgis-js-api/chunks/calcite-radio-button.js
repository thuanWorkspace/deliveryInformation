/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","./index","./array2","./dom","./form","./guid","./interactive","./label2","./loadable"],(function(e,t,i,o,a,n,s,c,d){"use strict";
/*!
   * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
   * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
   * v1.9.2
   */const r={container:"container"},h=':host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;cursor:pointer}:host .container{position:relative;outline:2px solid transparent;outline-offset:2px}:host .radio{cursor:pointer;border-radius:9999px;background-color:var(--calcite-ui-foreground-1);outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input)}:host([hovered]) .radio,:host(:not([checked])[focused]:not([disabled])) .radio{box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([focused]) .radio{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\n            2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-ui-focus-offset-invert),\n                1\n              )\n            )\n          )}:host([disabled]) .radio{cursor:default;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([hovered][disabled]) .radio{box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input)}:host([scale=s]){--calcite-radio-size:var(--calcite-font-size--2)}:host([scale=m]){--calcite-radio-size:var(--calcite-font-size--1)}:host([scale=l]){--calcite-radio-size:var(--calcite-font-size-0)}.radio{block-size:var(--calcite-radio-size);max-inline-size:var(--calcite-radio-size);min-inline-size:var(--calcite-radio-size)}:host([scale=s][checked]) .radio,:host([hovered][scale=s][checked][disabled]) .radio{box-shadow:inset 0 0 0 4px var(--calcite-ui-brand)}:host([scale=s][focused][checked]:not([disabled])) .radio{box-shadow:inset 0 0 0 4px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1)}:host([scale=m][checked]) .radio,:host([hovered][scale=m][checked][disabled]) .radio{box-shadow:inset 0 0 0 5px var(--calcite-ui-brand)}:host([scale=m][focused][checked]:not([disabled])) .radio{box-shadow:inset 0 0 0 5px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1)}:host([scale=l][checked]) .radio,:host([hovered][scale=l][checked][disabled]) .radio{box-shadow:inset 0 0 0 6px var(--calcite-ui-brand)}:host([scale=l][focused][checked]:not([disabled])) .radio{box-shadow:inset 0 0 0 6px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1)}@media (forced-colors: active){:host([checked]) .radio::after,:host([checked][disabled]) .radio::after{content:"";inline-size:var(--calcite-radio-size);block-size:var(--calcite-radio-size);background-color:windowText;display:block}}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([hidden]){display:none}[hidden]{display:none}',l=t.proxyCustomElement(class extends t.H{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalRadioButtonBlur=t.createEvent(this,"calciteInternalRadioButtonBlur",6),this.calciteRadioButtonChange=t.createEvent(this,"calciteRadioButtonChange",6),this.calciteInternalRadioButtonCheckedChange=t.createEvent(this,"calciteInternalRadioButtonCheckedChange",6),this.calciteInternalRadioButtonFocus=t.createEvent(this,"calciteInternalRadioButtonFocus",6),this.selectItem=(e,t)=>{e[t].click()},this.queryButtons=()=>Array.from(this.rootNode.querySelectorAll("calcite-radio-button:not([hidden])")).filter((e=>e.name===this.name)),this.isFocusable=()=>{const e=this.queryButtons(),t=e.find((e=>!e.disabled)),i=e.find((e=>e.checked));return t===this.el&&!i},this.check=()=>{this.disabled||(this.focused=!0,this.setFocus(),this.checked||(this.uncheckAllRadioButtonsInGroup(),this.checked=!0,this.calciteRadioButtonChange.emit()))},this.clickHandler=()=>{this.disabled||this.check()},this.setContainerEl=e=>{this.containerEl=e},this.handleKeyDown=e=>{const t=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"," "],{key:a}=e,{el:n}=this;if(-1===t.indexOf(a))return;if(" "===a)return this.check(),void e.preventDefault();let s=a;"rtl"===o.getElementDir(n)&&("ArrowRight"===a&&(s="ArrowLeft"),"ArrowLeft"===a&&(s="ArrowRight"));const c=Array.from(this.rootNode.querySelectorAll("calcite-radio-button:not([hidden]")).filter((e=>e.name===this.name));let d=0;const r=c.length;switch(c.some(((e,t)=>{if(e.checked)return d=t,!0})),s){case"ArrowLeft":case"ArrowUp":return e.preventDefault(),void this.selectItem(c,i.getRoundRobinIndex(Math.max(d-1,-1),r));case"ArrowRight":case"ArrowDown":return e.preventDefault(),void this.selectItem(c,i.getRoundRobinIndex(d+1,r));default:return}},this.onContainerBlur=()=>{this.focused=!1,this.calciteInternalRadioButtonBlur.emit()},this.onContainerFocus=()=>{this.disabled||(this.focused=!0,this.calciteInternalRadioButtonFocus.emit())},this.checked=!1,this.disabled=!1,this.focused=!1,this.form=void 0,this.guid=void 0,this.hidden=!1,this.hovered=!1,this.label=void 0,this.name=void 0,this.required=!1,this.scale="m",this.value=void 0}checkedChanged(e){e&&this.uncheckOtherRadioButtonsInGroup(),this.calciteInternalRadioButtonCheckedChange.emit()}disabledChanged(){this.updateTabIndexOfOtherRadioButtonsInGroup()}hiddenChanged(){this.updateTabIndexOfOtherRadioButtonsInGroup()}nameChanged(){this.checkLastRadioButton()}async setFocus(){await d.componentFocusable(this),this.disabled||o.focusElement(this.containerEl)}syncHiddenFormInput(e){e.type="radio"}onLabelClick(e){if(this.disabled||this.hidden)return;const t=e.currentTarget,i=t.for?this.rootNode.querySelector(`calcite-radio-button[id="${t.for}"]`):t.querySelector(`calcite-radio-button[name="${this.name}"]`);i&&(i.focused=!0,this.setFocus(),i.checked||(this.uncheckOtherRadioButtonsInGroup(),i.checked=!0,this.calciteRadioButtonChange.emit()))}checkLastRadioButton(){const e=this.queryButtons().filter((e=>e.checked));if(e?.length>1){const t=e[e.length-1];e.filter((e=>e!==t)).forEach((e=>{e.checked=!1,e.emitCheckedChange()}))}}async emitCheckedChange(){this.calciteInternalRadioButtonCheckedChange.emit()}uncheckAllRadioButtonsInGroup(){this.queryButtons().forEach((e=>{e.checked&&(e.checked=!1,e.focused=!1)}))}uncheckOtherRadioButtonsInGroup(){this.queryButtons().filter((e=>e.guid!==this.guid)).forEach((e=>{e.checked&&(e.checked=!1,e.focused=!1)}))}updateTabIndexOfOtherRadioButtonsInGroup(){this.queryButtons().filter((e=>e.guid!==this.guid&&!e.disabled)).forEach((e=>{t.forceUpdate(e)}))}getTabIndex(){if(!this.disabled)return this.checked||this.isFocusable()?0:-1}pointerEnterHandler(){this.disabled||(this.hovered=!0)}pointerLeaveHandler(){this.disabled||(this.hovered=!1)}connectedCallback(){this.rootNode=this.el.getRootNode(),this.guid=this.el.id||`calcite-radio-button-${n.guid()}`,this.name&&this.checkLastRadioButton(),s.connectInteractive(this),c.connectLabel(this),a.connectForm(this),this.updateTabIndexOfOtherRadioButtonsInGroup()}componentWillLoad(){d.setUpLoadableComponent(this)}componentDidLoad(){d.setComponentLoaded(this),this.focused&&!this.disabled&&this.setFocus()}disconnectedCallback(){s.disconnectInteractive(this),c.disconnectLabel(this),a.disconnectForm(this),this.updateTabIndexOfOtherRadioButtonsInGroup()}componentDidRender(){s.updateHostInteraction(this)}render(){const e=this.getTabIndex();return t.h(t.Host,{onClick:this.clickHandler,onKeyDown:this.handleKeyDown},t.h("div",{"aria-checked":o.toAriaBoolean(this.checked),"aria-label":c.getLabelText(this),class:r.container,onBlur:this.onContainerBlur,onFocus:this.onContainerFocus,role:"radio",tabIndex:e,ref:this.setContainerEl},t.h("div",{class:"radio"})),t.h(a.HiddenFormInputSlot,{component:this}))}get el(){return this}static get watchers(){return{checked:["checkedChanged"],disabled:["disabledChanged"],hidden:["hiddenChanged"],name:["nameChanged"]}}static get style(){return h}},[1,"calcite-radio-button",{checked:[1540],disabled:[516],focused:[1540],form:[513],guid:[1537],hidden:[516],hovered:[1540],label:[1],name:[513],required:[516],scale:[513],value:[1032],setFocus:[64],emitCheckedChange:[64]},[[1,"pointerenter","pointerEnterHandler"],[1,"pointerleave","pointerLeaveHandler"]]]);function u(){if("undefined"==typeof customElements)return;["calcite-radio-button"].forEach((e=>{if("calcite-radio-button"===e)customElements.get(e)||customElements.define(e,l)}))}u();const b=l,p=u;e.CalciteRadioButton=b,e.defineCustomElement=p,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
