/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../core/handleUtils"],(function(e,n){"use strict";let o,t;const a=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale;function l(){return a??globalThis.navigator?.language??"en"}function c(){return void 0===t&&(t=l()),t}function i(e){o=e||void 0,L()}function r(e=c()){const n=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(e);return n?.[1].toLowerCase()}const u={he:!0,ar:!0};function s(e=c()){const n=r(e);return void 0!==n&&(u[n]||!1)}const g=[];function f(e){return g.push(e),n.makeHandle((()=>g.splice(g.indexOf(e),1)))}const d=[];function h(e){return d.push(e),n.makeHandle((()=>g.splice(d.indexOf(e),1)))}function L(){const e=o??l();t!==e&&(t=e,[...d].forEach((n=>{n.call(null,e)})),[...g].forEach((n=>{n.call(null,e)})))}globalThis.addEventListener?.("languagechange",L),e.beforeLocaleChange=h,e.getDefaultLocale=l,e.getLanguage=r,e.getLocale=c,e.onLocaleChange=f,e.prefersRTL=s,e.setLocale=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
