/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../ArcadeDate","../../../core/sql/DateOnly","../../../core/sql/TimeOnly","../../../geometry/Extent","../../../layers/support/Field","../../../chunks/datetime"],(function(e,t,r,i,n,o,l){"use strict";var s,y;function a(e){return o.fromJSON(e.toJSON())}function u(e){return e.toJSON?e.toJSON():e}function p(e){return"string"==typeof e||e instanceof String}function c(e){return"boolean"==typeof e}function m(e){return"number"==typeof e}function d(e){return e instanceof Array}function f(e){return e instanceof Date}function T(e){return e instanceof l.DateTime}function F(e){return e instanceof t.ArcadeDate}function g(e){return e instanceof r.DateOnly}function G(e){return e instanceof i.TimeOnly}function S(e,t){return e===t||!(!f(e)&&!F(e)||!f(t)&&!F(t))&&e.getTime()===t.getTime()}function v(e){const t={};for(const r in e)t[r]=e[r];return t}function D(e){if(null==e)return null;if("number"==typeof e)return e;switch(e.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109439;case"kilometers":case"kilometer":case"km":return 109414}return null}function b(e){if(null==e)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new n({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function O(e){if(null==e)return null;if("number"==typeof e)return e;if("number"==typeof e)return e;switch(e.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9093;case"kilometers":case"kilometer":case"km":return 9036}return null}function I(e,t){return e===t||("point"===e&&"esriGeometryPoint"===t||("polyline"===e&&"esriGeometryPolyline"===t||("polygon"===e&&"esriGeometryPolygon"===t||("extent"===e&&"esriGeometryEnvelope"===t||("multipoint"===e&&"esriGeometryMultipoint"===t||("point"===t&&"esriGeometryPoint"===e||("polyline"===t&&"esriGeometryPolyline"===e||("polygon"===t&&"esriGeometryPolygon"===e||("extent"===t&&"esriGeometryEnvelope"===e||"multipoint"===t&&"esriGeometryMultipoint"===e)))))))))}e.FeatureServiceDatabaseType=void 0,(s=e.FeatureServiceDatabaseType||(e.FeatureServiceDatabaseType={}))[s.Standardised=0]="Standardised",s[s.StandardisedNoInterval=1]="StandardisedNoInterval",s[s.SqlServer=2]="SqlServer",s[s.Oracle=3]="Oracle",s[s.Postgres=4]="Postgres",s[s.PGDB=5]="PGDB",s[s.FILEGDB=6]="FILEGDB",s[s.NotEvaluated=7]="NotEvaluated",e.IdState=void 0,(y=e.IdState||(e.IdState={}))[y.InFeatureSet=0]="InFeatureSet",y[y.NotInFeatureSet=1]="NotInFeatureSet",y[y.Unknown=2]="Unknown";const P=1e3;function x(e){return function(t){e.reject(t)}}function E(e,t){return function(){try{e.apply(null,arguments)}catch(r){t.reject(r)}}}const N={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},k={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},M={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate","date-only":"esriFieldTypeDateOnly","time-only":"esriFieldTypeTimeOnly","timestamp-offset":"esriFieldTypeTimestampOffset",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"esriFieldTypeXML","big-integer":"esriFieldTypeBigInteger",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeDateOnly:"esriFieldTypeDateOnly",esriFieldTypeTimeOnly:"esriFieldTypeTimeOnly",esriFieldTypeTimestampOffset:"esriFieldTypeTimestampOffset",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"esriFieldTypeXML",esriFieldTypeBigInteger:"esriFieldTypeBigInteger"};function J(e){switch(e){case"point":default:return"esriGeometryPoint";case"polygon":return"esriGeometryPolygon";case"multipoint":return"esriGeometryMultipoint";case"polyline":return"esriGeometryPolyline"}}function L(e){return void 0===e?"":e=(e=(e=e.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function h(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});const r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){const i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}});var n;const o=[];return function e(t){if(t?.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0===t)return;if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);let n,l;if(Array.isArray(t)){for(l="[",n=0;n<t.length;n++)n&&(l+=","),l+=e(t[n])||"null";return l+"]"}if(null===t)return"null";if(o.includes(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const s=o.push(t)-1,y=Object.keys(t).sort(i?.(t));for(l="",n=0;n<y.length;n++){const r=y[n],i=e(t[r]);i&&(l&&(l+=","),l+=JSON.stringify(r)+":"+i)}return o.splice(s,1),"{"+l+"}"}(e)}e.callback=E,e.cloneAttributes=v,e.cloneField=a,e.convertLinearUnitsToCode=O,e.convertSquareUnitsToCode=D,e.defaultMaxRecords=P,e.equalityTest=S,e.errback=x,e.esriFieldToJson=u,e.extractServiceUrl=L,e.isArcadeDate=F,e.isArcadeDateOnly=g,e.isArcadeTime=G,e.isArray=d,e.isBoolean=c,e.isDate=f,e.isLuxonDate=T,e.isNumber=m,e.isString=p,e.layerFieldEsriConstants=M,e.layerGeometryEsriConstants=N,e.layerGeometryEsriRestConstants=k,e.sameGeomType=I,e.shapeExtent=b,e.stableStringify=h,e.toEsriGeometryType=J,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
