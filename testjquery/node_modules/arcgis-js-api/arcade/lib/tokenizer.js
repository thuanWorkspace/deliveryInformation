/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","./error-handler","./scanner","./types"],(function(e,n,r,t){"use strict";class s{constructor(e,t){this.errorHandler=new n.ErrorHandler,this.errorHandler.tolerant=!!t&&("boolean"==typeof t.tolerant&&t.tolerant),this.scanner=new r.Scanner(e,this.errorHandler),this.trackComments=!!t&&("boolean"==typeof t.comment&&t.comment),this.buffer=[]}errors(){return this.errorHandler.errors}getNextToken(){if(0===this.buffer.length){const e=this.scanner.scanComments();if(this.trackComments&&e&&e.forEach((e=>{const n=this.scanner.source.slice(e.start,e.end),r={type:e.multiLine?t.Syntax.BlockComment:t.Syntax.LineComment,value:n,range:e.range,loc:e.loc};this.buffer.push(r)})),!this.scanner.eof()){const e={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},n=this.scanner.lex(),r={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},s={type:t.TokenNames[n.type],value:this.scanner.source.slice(n.start,n.end),range:[n.start,n.end],loc:{start:e,end:r}};this.buffer.push(s)}}return this.buffer.shift()}}e.Tokenizer=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
