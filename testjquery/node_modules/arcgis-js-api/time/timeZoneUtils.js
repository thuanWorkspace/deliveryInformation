/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","./legacyTimeZoneMap","../chunks/datetime"],(function(e,t,n){"use strict";const o="system",i="unknown",r="UTC",m=Intl.DateTimeFormat().resolvedOptions().timeZone,s="shortOffset";function a(e){return"timeZoneIANA"in e}function c(e){return e.startsWith("UTC")}function u(e,t=!1){return{json:{read:{source:e,reader:(t,n)=>n[e]?f(n[e]):null},write:!!t&&{allowNull:!0,writer(t,n){n[e]=t?Z(t):null}}}}}function f(e,t=o){return e?a(e)?e.timeZoneIANA:l(e,t):t}function Z(e){return{timeZoneIANA:e}}function l(e,n=o){if(!e||!t.legacyTimeZoneMap.has(e.timeZone))return n;const i=t.legacyTimeZoneMap.get(e.timeZone);return c(e.timeZone)||e.respectsDaylightSaving?i:T(i)}function T(e){const t=n.DateTime.local().setZone(e),o=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);if(0===o)return"Etc/UTC";return`Etc/GMT${n.FixedOffsetZone.instance(-o).formatOffset(0,"narrow")}`}function g(e,t,n,o,m){if(t&&"date"===m)return{timeZone:r,timeZoneName:void 0};const a=o.timeStyle||o.hour,c=n===i;return{timeZone:c?"timestamp-offset"===m?void 0:e??r:n,timeZoneName:c&&a?s:void 0}}function d(e){const t=e===o?m:e,n=/^(?<area>[\w-]+)(?:\/(?<region>[\w-]+))?\/(?<location>[\w+-]+)$/;if(n.test(t)){const e=n.exec(t)?.groups,{area:o,region:i,location:r}=e;return{area:o,region:i,location:r,timeZone:t}}return{timeZone:t}}e.convertLegacyTimeZone=l,e.fromTimeReference=f,e.getTimeZoneComponents=d,e.getTimeZoneFormattingOptions=g,e.shortTimeZoneName=s,e.system=o,e.systemTimeZone=m,e.timeZoneProperty=u,e.toTimeReference=Z,e.unknown=i,e.utc=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
