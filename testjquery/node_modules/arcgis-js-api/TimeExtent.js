/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["./chunks/tslib.es6","./core/JSONSupport","./core/timeUtils","./core/accessorSupport/decorators/property","./core/accessorSupport/ensureType","./core/arrayUtils","./core/has","./core/accessorSupport/decorators/reader","./core/accessorSupport/decorators/subclass","./core/accessorSupport/decorators/writer","./time/timeZoneUtils"],(function(t,e,r,s,n,i,l,a,o,u,c){"use strict";var d;let p=d=class extends e.JSONSupport{static get allTime(){return m}static get empty(){return h}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(d.allTime)}get isEmpty(){return this.equals(d.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new d({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,s=t.start?.getTime()??t.start,n=t.end?.getTime()??t.end;return e===s&&r===n}expandTo(t,e=c.system){if(this.isEmpty||this.isAllTime)return this.clone();let s=this.start;s&&(s=r.truncateDate(s,t,e));let n=this.end;if(n){const s=r.truncateDate(n,t,e);n=n.getTime()===s.getTime()?s:r.offsetDate(s,1,t,e)}return new d({start:s,end:n})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return d.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,s=t.start?.getTime()??-1/0,n=t.end?.getTime()??1/0;let i,l;if(s>=e&&s<=r?i=s:e>=s&&e<=n&&(i=e),r>=s&&r<=n?l=r:n>=e&&n<=r&&(l=n),null!=i&&null!=l&&!isNaN(i)&&!isNaN(l)){const t=new d;return t.start=i===-1/0?null:new Date(i),t.end=l===1/0?null:new Date(l),t}return d.empty}offset(t,e,s=c.system){if(this.isEmpty||this.isAllTime)return this.clone();const n=new d,{start:i,end:l}=this;return null!=i&&(n.start=r.offsetDate(i,t,e,s)),null!=l&&(n.end=r.offsetDate(l,t,e,s)),n}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return m.clone();const e=null!=this.start&&null!=t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,r=null!=this.end&&null!=t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new d({start:e,end:r})}};t.__decorate([s.property({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"end",void 0),t.__decorate([a.reader("end")],p.prototype,"readEnd",null),t.__decorate([u.writer("end")],p.prototype,"writeEnd",null),t.__decorate([s.property({readOnly:!0,json:{read:!1}})],p.prototype,"isAllTime",null),t.__decorate([s.property({readOnly:!0,json:{read:!1}})],p.prototype,"isEmpty",null),t.__decorate([s.property({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"start",void 0),t.__decorate([a.reader("start")],p.prototype,"readStart",null),t.__decorate([u.writer("start")],p.prototype,"writeStart",null),p=d=t.__decorate([o.subclass("esri.TimeExtent")],p);const m=new p,h=new p({start:void 0,end:void 0});return p}));
