/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../chunks/tslib.es6","../core/JSONSupport","../core/accessorSupport/decorators/property","../core/accessorSupport/ensureType","../core/arrayUtils","../core/has","../core/accessorSupport/decorators/enumeration","../core/accessorSupport/decorators/subclass","./support/ColormapInfo","./support/colorRampUtils"],(function(r,o,e,t,s,a,c,p,l,n){"use strict";var u;let m=u=class extends o.JSONSupport{constructor(r){super(r),this.colormapInfos=null,this.type="raster-colormap"}static createFromColormap(r,o){if(!r)return null;const e=5===r[0].length,t=[...r].sort(((r,o)=>r[0]-o[0])).map((r=>l.fromJSON({value:r[0],color:e?r.slice(1,5):r.slice(1,4).concat([255]),label:o?o[r[0]]??"":r[0]})));return new u({colormapInfos:t})}static createFromColorramp(r){const o=n.convertColorRampToColormap(r);return u.createFromColormap(o)}clone(){return new u({colormapInfos:this.colormapInfos.map((r=>r.toJSON()))})}extractColormap(){return this.colormapInfos.map((({value:r,color:o})=>[r,o.r,o.g,o.b,o.a>1?o.a:255*o.a&255])).sort(((r,o)=>r[0]-o[0]))}};r.__decorate([e.property({type:[l],json:{write:!0}})],m.prototype,"colormapInfos",void 0),r.__decorate([c.enumeration({rasterColormap:"raster-colormap"})],m.prototype,"type",void 0),m=u=r.__decorate([p.subclass("esri.renderers.RasterColormapRenderer")],m);return m}));
