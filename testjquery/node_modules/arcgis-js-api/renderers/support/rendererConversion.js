/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../core/arrayUtils","../../core/has","../../core/Error","../../symbols/support/symbolConversion"],(function(e,r,n,t,o){"use strict";function s(e){return null==e||"simple"===e.type||"unique-value"===e.type||"class-breaks"===e.type||"dictionary"===e.type||"heatmap"===e.type}function u(e,r){if(null==e)return null;if(!s(e))return new t("renderer-conversion-3d:unsupported-renderer",`Unsupported renderer of type '${e.type||e.declaredClass}'`,{renderer:e});switch(e.type){case"simple":return i(e);case"unique-value":return a(e,r);case"class-breaks":return c(e);case"dictionary":case"heatmap":return null}return null}function l(e,r){if(!r)return null;let n;if(n=Array.isArray(r)?r:[r],n.length>0){const r=n.map((e=>e.details.symbol.type||e.details.symbol.declaredClass)).filter((e=>!!e));r.sort();const o=[];return r.forEach(((e,n)=>{0!==n&&e===r[n-1]||o.push(e)})),new t("renderer-conversion-3d:unsupported-symbols",`Renderer contains symbols (${o.join(", ")}) which are not supported in 3D`,{renderer:e,symbolErrors:n})}return null}function i(e){return l(e,o.to3D(e.symbol).error)}function a(e,n){const t={...o.defaultTo3DOptions,...n},s=e.uniqueValueInfos?.map((e=>o.to3D(e.symbol,t).error)).filter(r.isSome),u=o.to3D(e.defaultSymbol,t);return u.error&&s?.unshift(u.error),l(e,s)}function c(e){const n=e.classBreakInfos.map((e=>o.to3D(e.symbol).error)).filter(r.isSome),t=o.to3D(e.defaultSymbol);return t.error&&n.unshift(t.error),l(e,n)}e.isSupportedRenderer3D=s,e.validateTo3D=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
