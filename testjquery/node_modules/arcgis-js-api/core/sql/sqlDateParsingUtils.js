/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../arcade/featureset/support/errorsupport","./DateOnly","./SqlInterval","./SqlTimestampOffset","./TimeOnly","./UnknownTimeZone","../../chunks/datetime"],(function(e,n,r,t,o,a,i,s){"use strict";const l=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,m=/^(\d{1,2}):(\d{1,2})$/,d=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,u=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,f=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,p=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$/,c=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$/,I=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function S(e,n){if(n instanceof s.Zone)return n===i.UnknownTimeZone.instance?s.DateTime.fromMillis(e.getTime(),{zone:i.UnknownTimeZone.instance}):s.DateTime.fromJSDate(e,{zone:n});switch(n){case"system":case"local":case null:return s.DateTime.fromJSDate(e);default:return"unknown"===n?.toLowerCase()?s.DateTime.fromMillis(e.getTime(),{zone:i.UnknownTimeZone.instance}):s.DateTime.fromJSDate(e,{zone:n})}}function T(e){return"number"==typeof e}function w(e){return"string"==typeof e||e instanceof String}function q(e){return e instanceof t.SqlInterval}function E(e){return e instanceof Date}function y(e){return e instanceof s.DateTime}function D(e){return e instanceof r.DateOnly}function h(e){return e instanceof a.TimeOnly}function O(e){return e instanceof o.SqlTimeStampOffset}function v(e){let r=l.exec(e);if(null!==r){const[,e,t,o]=r,i=a.TimeOnly.fromParts(parseInt(e,10),parseInt(t,10),parseInt(o,10),0);if(null!==i)return i;throw new n.SqlError(n.SqlErrorCodes.InvalidTime)}if(r=m.exec(e),null!==r){const[,e,t]=r,o=a.TimeOnly.fromParts(parseInt(e,10),parseInt(t,10),0,0);if(null!==o)return o;throw new n.SqlError(n.SqlErrorCodes.InvalidTime)}if(r=d.exec(e),null!==r){const[,e,t,o,i]=r,s=a.TimeOnly.fromParts(parseInt(e,10),parseInt(t,10),parseInt(o,10),parseInt(i,10));if(null!==s)return s;throw new n.SqlError(n.SqlErrorCodes.InvalidTime)}throw new n.SqlError(n.SqlErrorCodes.InvalidTime)}function C(e,r,t=!1){let a=f.exec(e);if(null!==a){const[,e,t,o,l,m,d,u]=a,f=s.DateTime.fromObject({year:parseInt(e,10),month:parseInt(t,10),day:parseInt(o,10),hour:parseInt(l,10),minute:parseInt(m,10),second:parseInt(d,10),millisecond:u?parseInt(u.replace(".",""),10):0},{zone:i.substituteUnknownTimezone(r)});if(!1===f.isValid)throw new n.SqlError(n.SqlErrorCodes.InvalidTimeStamp);return f}if(a=p.exec(e),null!==a){const[,e,r,t,i,s,l,m,d,u,f]=a,p=o.SqlTimeStampOffset.fromParts(parseInt(e,10),parseInt(r,10),parseInt(t,10),parseInt(i,10),parseInt(s,10),parseInt(l,10),m?parseInt(m.replace(".",""),10):0,"-"===d,parseInt(u,10),parseInt(f,10));if(!1===p.isValid)throw new n.SqlError(n.SqlErrorCodes.InvalidTimeStamp);return p}if(a=c.exec(e),null!==a){const[,e,r,t,i,s,l,m,d]=a,u=o.SqlTimeStampOffset.fromParts(parseInt(e,10),parseInt(r,10),parseInt(t,10),parseInt(i,10),parseInt(s,10),0,0,"-"===l,parseInt(m,10),parseInt(d,10));if(!1===u.isValid)throw new n.SqlError(n.SqlErrorCodes.InvalidTimeStamp);return u}if(a=I.exec(e),null!==a){const[,e,t,o,l,m]=a,d=s.DateTime.fromObject({year:parseInt(e,10),month:parseInt(t,10),day:parseInt(o,10),hour:parseInt(l,10),minute:parseInt(m,10),second:0},{zone:i.substituteUnknownTimezone(r)});if(!1===d.isValid)throw new n.SqlError(n.SqlErrorCodes.InvalidTimeStamp);return d}if(a=u.exec(e),null!==a){const[,e,t,o]=a,l=s.DateTime.fromObject({year:parseInt(e,10),month:parseInt(t,10),day:parseInt(o,10),hour:0,minute:0,second:0},{zone:i.substituteUnknownTimezone(r)});if(!1===l.isValid)throw new n.SqlError(n.SqlErrorCodes.InvalidTimeStamp);return l}throw new n.SqlError(n.SqlErrorCodes.InvalidTimeStamp)}function x(e,t){const o=u.exec(e);if(null===o)try{return C(e,t)}catch{throw new n.SqlError(n.SqlErrorCodes.InvalidDate)}const[,a,i,s]=o,l=r.DateOnly.fromParts(parseInt(a,10),parseInt(i,10),parseInt(s,10));if(null===l)throw new n.SqlError(n.SqlErrorCodes.InvalidDate);return l}e.convertToExecutingTimeZone=S,e.isDate=E,e.isDateOnly=D,e.isDateTime=y,e.isNumber=T,e.isSqlInterval=q,e.isString=w,e.isTimeOnly=h,e.isTimestampOffset=O,e.parseDate=x,e.parseTime=v,e.parseTimestamp=C,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
