/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","./ByteSizeUnit","./Cyclical","./mathUtils","./quantityUtils","./string","./unitUtils","../intl/number"],(function(t,e,i,n,r,a,o,c){"use strict";function m(t,e,i){return t.units[e][i]}function u(t,e,i,n=2,r="abbr"){return`${c.formatNumber(e,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:e>0?"never":"exceptZero"})} ${m(t,i,r)}`}function l(t,e,i,n=2,r="abbr"){return`${c.formatNumber(e,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:"exceptZero"})} ${m(t,i,r)}`}function s(t,e,i,n=2,r="abbr"){const a=o.adaptiveMetricLengthUnit(e,i);return u(t,o.convertUnit(e,i,a),a,n,r)}function f(t,e,i,n=2,r="abbr"){const a=o.adaptiveMetricLengthUnit(e,i);return l(t,o.convertUnit(e,i,a),a,n,r)}function g(t,e,i,n=2,r="abbr"){const a=o.adaptiveMetricVerticalLengthUnit(e,i);return u(t,o.convertUnit(e,i,a),a,n,r)}function p(t,e,i,n=2,r="abbr"){const a=o.adaptiveMetricVerticalLengthUnit(e,i);return l(t,o.convertUnit(e,i,a),a,n,r)}function b(t,e,i,n=2,r="abbr"){const a=o.adaptiveImperialLengthUnit(e,i);return u(t,o.convertUnit(e,i,a),a,n,r)}function v(t,e,i,n=2,r="abbr"){const a=o.adaptiveImperialLengthUnit(e,i);return l(t,o.convertUnit(e,i,a),a,n,r)}function U(t,e,i,n=2,r="abbr"){const a=o.adaptiveImperialVerticalLengthUnit(e,i);return u(t,o.convertUnit(e,i,a),a,n,r)}function h(t,e,i,n=2,r="abbr"){const a=o.adaptiveImperialVerticalLengthUnit(e,i);return l(t,o.convertUnit(e,i,a),a,n,r)}function d(t,e,i,n=2,r="abbr"){const a=o.adaptiveMetricAreaUnit(e,i);return u(t,o.convertUnit(e,i,a),a,n,r)}function D(t,e,i,n=2,r="abbr"){const a=o.adaptiveImperialAreaUnit(e,i);return u(t,o.convertUnit(e,i,a),a,n,r)}function M(t,e,i=2){let n=o.convertUnit(t,e,"degrees"),r=n-Math.floor(n);n-=r,r*=60;let a=r-Math.floor(r);return r-=a,a*=60,`${n.toFixed()}Â° ${r.toFixed()}' ${a.toFixed(i)}"`}function y(t,e,n,a,m){m=m??2;let u=i.cyclicalDegrees.normalize(r.convertRotationType(o.convertUnit(t,e,"degrees"),n,a),0,!0);const l={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:m,minimumFractionDigits:m,signDisplay:u>0?"never":"exceptZero"};return u=x(u,l),c.formatNumber(u,l)}function L(t,e,i,n,r){i!==n&&(t=-t);const a={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:r=r??2,minimumFractionDigits:r,signDisplay:"exceptZero"};let m=o.convertUnit(t,e,"degrees")%360;return m=x(m,a),c.formatNumber(m,a)}const F=new Map;function x(t,e){const i=JSON.stringify(e);let n=F.get(i);return n||(n=new Intl.NumberFormat("en-US",e),F.set(i,n)),/\-?\+?360/.test(n.format(t))?0:t}const I=["B","kB","MB","GB","TB"];function S(t,i){let r=0===(i=Math.round(i))?0:Math.floor(Math.log(i)/Math.log(e.ByteSizeUnit.KILOBYTES));r=n.clamp(r,0,I.length-1);const o=c.formatNumber(i/e.ByteSizeUnit.KILOBYTES**r,{maximumFractionDigits:2});return a.replace(t.units.bytes[I[r]],{fileSize:o})}t.formatAngleDegrees=y,t.formatDMS=M,t.formatDecimal=u,t.formatFileSize=S,t.formatImperialArea=D,t.formatImperialLength=b,t.formatImperialRelativeLength=v,t.formatImperialRelativeVerticalLength=h,t.formatImperialVerticalLength=U,t.formatMetricArea=d,t.formatMetricLength=s,t.formatMetricRelativeLength=f,t.formatMetricRelativeVerticalLength=p,t.formatMetricVerticalLength=g,t.formatRelativeAngleDegrees=L,t.formatRelativeDecimal=l,t.unitName=m,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
