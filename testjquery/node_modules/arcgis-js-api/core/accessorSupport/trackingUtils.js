/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../handleUtils","./tracking","./tracking/SimpleTrackingTarget"],(function(n,e,r,t){"use strict";let u=!1;const l=[];function i(n,l){let i=new t.SimpleTrackingTarget(d),c=null,a=!1;function d(){if(!i||a)return;if(u)return void o(d);const e=c;i.clear(),u=!0,a=!0,c=r.runTracked(i,n),a=!1,u=!1,l(c,e),f()}function k(){i&&(i.destroy(),i=null,c=null)}return a=!0,c=r.runTracked(i,n),a=!1,e.makeHandle(k)}function c(n,u){let l=new t.SimpleTrackingTarget(c),i=null;function c(){u(i,o)}function a(){l&&(l.destroy(),l=null),i=null}function o(){return l?(l.clear(),i=r.runTracked(l,n),i):null}return o(),e.makeHandle(a)}function a(n){let l=new t.SimpleTrackingTarget(c),i=!1;function c(){l&&!i&&(u?o(c):(l.clear(),u=!0,i=!0,r.runTracked(l,n),i=!1,u=!1,f()))}function a(){l&&(l.destroy(),l=null)}return i=!0,r.runTracked(l,n),i=!1,e.makeHandle(a)}function o(n){l.includes(n)||l.unshift(n)}function f(){for(;l.length;)l.pop()()}n.autorun=a,n.reaction=i,n.reactionDeferred=c,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})}));
