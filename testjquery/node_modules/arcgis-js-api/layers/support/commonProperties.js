/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../TimeExtent","../../core/accessorSupport/layerContainerType","../../geometry/Extent","../../geometry/SpatialReference","../../chunks/persistableUrlUtils","../../support/timeUtils","../../symbols/support/ElevationInfo","../../webdoc/support/opacityUtils"],(function(e,n,i,r,a,t,o,l,s){"use strict";const y={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:i.excludeTables}}},c={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,n)=>!n.disablePopup},write:{enabled:!0,writer(e,n,i){n[i]=!e}}}},p={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:i.excludeTables}}},d={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:t.write}}},u={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:i.excludeTables}}},b={value:null,type:l,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:i.excludeTables}}};function m(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const w={write:{enabled:!0,layerContainerTypes:i.excludeTables},read:!0},f={type:Number,json:{origins:{"web-document":w,"portal-item":{write:!0}}}},g={...f,json:{...f.json,origins:{"web-document":{...w,write:{enabled:!0,layerContainerTypes:i.excludeTables,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,n,i)=>i&&"service"!==i.origin||!n.drawingInfo||void 0===n.drawingInfo.transparency?n.layerDefinition?.drawingInfo&&void 0!==n.layerDefinition.drawingInfo.transparency?s.transparencyToOpacity(n.layerDefinition.drawingInfo.transparency):void 0:s.transparencyToOpacity(n.drawingInfo.transparency)}}},T={type:n,readOnly:!0,get(){if(!this.layer?.timeInfo)return null;const{datesInUnknownTimezone:e,timeOffset:n,useViewTime:i}=this.layer,r=this.view?.timeExtent;let a=this.layer.timeExtent;e&&(a=o.toLocalTimeExtent(a));let t=i?r&&a?r.intersection(a):r||a:a;if(!t||t.isEmpty||t.isAllTime)return t;n&&(t=t.offset(-n.value,n.unit)),e&&(t=o.toUTCTimeExtent(t));const l=this._get("timeExtent");return t.equals(l)?l:t}},v={type:r,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,n)=>{const i=r.fromJSON(e);return null!=n.spatialReference&&"object"==typeof n.spatialReference&&(i.spatialReference=a.fromJSON(n.spatialReference)),i}}}},read:!1}},x={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},j={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:i.excludeTables}}},name:"layerDefinition.minScale",write:!0}},S={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:i.excludeTables}}},name:"layerDefinition.maxScale",write:!0}},I={json:{write:{ignoreOrigin:!0,layerContainerTypes:i.excludeTables},origins:{"web-map":{read:!1,write:!1}}}};e.combinedViewLayerTimeExtentProperty=T,e.elevationInfo=b,e.id=x,e.labelsVisible=p,e.legendEnabled=u,e.listMode=I,e.maxScale=S,e.minScale=j,e.opacity=f,e.opacityDrawingInfo=g,e.popupEnabled=c,e.readOnlyService=m,e.sceneLayerFullExtent=v,e.screenSizePerspectiveEnabled=y,e.url=d,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
