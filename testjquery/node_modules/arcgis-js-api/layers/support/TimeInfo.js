/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../../chunks/tslib.es6","../../TimeExtent","../../TimeInterval","../../core/Clonable","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/arrayUtils","../../core/has","../../core/accessorSupport/decorators/reader","../../core/accessorSupport/decorators/subclass","../../core/accessorSupport/decorators/writer","../../time/timeZoneUtils"],(function(e,t,r,l,o,n,i,a,p,s,u,d,m){"use strict";function c(e,t){return r.fromJSON({value:e,unit:t})}let v=class extends(l.ClonableMixin(o.JSONSupport)){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,r){if(!r.timeExtent||!Array.isArray(r.timeExtent)||2!==r.timeExtent.length)return null;const l=new Date(r.timeExtent[0]),o=new Date(r.timeExtent[1]);return new t({start:l,end:o})}writeFullTimeExtent(e,t){null!=e?.start&&null!=e.end?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?c(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?c(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){t.timeInterval=e?.toJSON().value??null,t.timeIntervalUnits=e?.toJSON().unit??null}};e.__decorate([n.property({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],v.prototype,"cumulative",void 0),e.__decorate([n.property({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],v.prototype,"endField",void 0),e.__decorate([n.property({type:t,json:{write:{enabled:!0,allowNull:!0}}})],v.prototype,"fullTimeExtent",void 0),e.__decorate([s.reader("fullTimeExtent",["timeExtent"])],v.prototype,"readFullTimeExtent",null),e.__decorate([d.writer("fullTimeExtent")],v.prototype,"writeFullTimeExtent",null),e.__decorate([n.property({type:Boolean,json:{write:!0}})],v.prototype,"hasLiveData",void 0),e.__decorate([n.property({type:r,json:{write:{enabled:!0,allowNull:!0}}})],v.prototype,"interval",void 0),e.__decorate([s.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],v.prototype,"readInterval",null),e.__decorate([d.writer("interval")],v.prototype,"writeInterval",null),e.__decorate([n.property({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],v.prototype,"startField",void 0),e.__decorate([n.property(m.timeZoneProperty("timeReference",!0))],v.prototype,"timeZone",void 0),e.__decorate([n.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],v.prototype,"trackIdField",void 0),e.__decorate([n.property({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],v.prototype,"useTime",void 0),v=e.__decorate([u.subclass("esri.layers.support.TimeInfo")],v);return v}));
