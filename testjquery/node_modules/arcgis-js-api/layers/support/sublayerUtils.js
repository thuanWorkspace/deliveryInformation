/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../core/accessorSupport/PropertyOrigin"],(function(r,e){"use strict";function i(r,e,i){const n=e.flatten((({sublayers:r})=>r)).length;if(n!==r.length)return!0;return!!r.some((r=>r.originIdOf("minScale")>i||r.originIdOf("maxScale")>i||r.originIdOf("renderer")>i||r.originIdOf("labelingInfo")>i||r.originIdOf("opacity")>i||r.originIdOf("labelsVisible")>i||r.originIdOf("source")>i))||!o(r,e)}function n(r,i,n){return!!r.some((r=>{const i=r.source;return!(!i||"map-layer"===i.type&&i.mapLayerId===r.id&&(null==i.gdbVersion||i.gdbVersion===n))||r.originIdOf("renderer")>e.OriginId.SERVICE||r.originIdOf("labelingInfo")>e.OriginId.SERVICE||r.originIdOf("opacity")>e.OriginId.SERVICE||r.originIdOf("labelsVisible")>e.OriginId.SERVICE}))||!o(r,i)}function o(r,e){if(!r?.length||null==e)return!0;const i=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>i.length)return!1;let n=0;const o=i.length;for(const{id:t}of r){for(;n<o&&i[n]!==t;)n++;if(n>=o)return!1}return!0}function t(r){return!!r&&r.some((r=>null!=r.minScale||null!=r.layerDefinition?.minScale))}r.isExportDynamic=n,r.isSublayerOverhaul=t,r.shouldWriteSublayerStructure=i,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})}));
