/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../../chunks/tslib.es6","../../PopupTemplate","../../renderers/ClassBreaksRenderer","../../renderers/DictionaryRenderer","../../renderers/DotDensityRenderer","../../renderers/HeatmapRenderer","../../renderers/PieChartRenderer","../../renderers/Renderer","../../renderers/SimpleRenderer","../../renderers/UniqueValueRenderer","../../renderers/support/jsonUtils","../../renderers/support/types","../../core/lang","../../core/object","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/reader","../../core/accessorSupport/decorators/subclass","../../core/accessorSupport/decorators/writer","./AggregateField","./commonProperties","./featureLayerUtils","./FeatureReduction","./LabelClass"],(function(e,r,o,t,n,p,s,i,a,d,l,c,u,y,b,f,g,_,h,m,v,w,R,I,S){"use strict";var x;const T="esri.layers.support.FeatureReductionBinning";let j=x=class extends I.FeatureReduction{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}writeFields(e,r,o){const t=e.filter((e=>"avg_angle"!==e.statisticType)).map((e=>e.toJSON()));y.setDeepValue(o,t,r)}readRenderer(e,r,o){const t=r.drawingInfo?.renderer;return t?l.read(t,r,o)??void 0:R.createDefaultRenderer(r,o)}clone(){return new x({fields:u.clone(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:u.clone(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:u.clone(this.popupTemplate),renderer:u.clone(this.renderer)})}};e.__decorate([g.enumeration({binning:"binning"})],j.prototype,"type",void 0),e.__decorate([g.enumeration({geohash:"geohash"})],j.prototype,"binType",void 0),e.__decorate([b.property({type:Number,range:{min:1,max:9},json:{write:!0}})],j.prototype,"fixedBinLevel",void 0),e.__decorate([b.property({type:[S],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],j.prototype,"labelingInfo",void 0),e.__decorate([b.property(w.labelsVisible)],j.prototype,"labelsVisible",void 0),e.__decorate([b.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],j.prototype,"maxScale",void 0),e.__decorate([b.property(w.popupEnabled)],j.prototype,"popupEnabled",void 0),e.__decorate([b.property({type:r,json:{name:"popupInfo",write:!0}})],j.prototype,"popupTemplate",void 0),e.__decorate([b.property({type:[v],json:{write:!0}})],j.prototype,"fields",void 0),e.__decorate([m.writer("fields")],j.prototype,"writeFields",null),e.__decorate([b.property({types:c.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],j.prototype,"renderer",void 0),e.__decorate([_.reader("renderer",["drawingInfo.renderer"])],j.prototype,"readRenderer",null),j=x=e.__decorate([h.subclass(T)],j);return j}));
