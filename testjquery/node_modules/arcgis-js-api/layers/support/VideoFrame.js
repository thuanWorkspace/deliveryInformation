/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../../chunks/tslib.es6","../../geometry","../../core/Accessor","../../core/Clonable","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/arrayUtils","../../core/has","../../core/accessorSupport/decorators/reader","../../core/accessorSupport/decorators/subclass","../../core/accessorSupport/decorators/writer","../../geometry/Point"],(function(o,r,e,t,s,n,c,p,i,a,l,u,d){"use strict";let y=class extends e{constructor(){super(...arguments),this.sourcePoint=null,this.mapPoint=null}};function P(o){return null!=o?.sourcePoint&&null!=o.mapPoint}o.__decorate([n.property()],y.prototype,"sourcePoint",void 0),o.__decorate([n.property({type:d})],y.prototype,"mapPoint",void 0),y=o.__decorate([l.subclass("esri.layers.support.ControlPoint")],y);let m=class extends(t.ClonableMixin(s.JSONSupport)){constructor(o){super(o),this.frame=null,this.controlPoints=null}readControlPoints(o){return o.map((o=>({sourcePoint:{x:o.frameX,y:o.frameY},mapPoint:new d(o.point)})))}writeControlPoints(o,r){null!=o&&P(o[0])&&(r.controlPoints=o.map((o=>{const r=o.sourcePoint,e=o.mapPoint;return{frameX:r.x,frameY:r.y,point:e.toJSON()}})))}};o.__decorate([n.property({type:String})],m.prototype,"frame",void 0),o.__decorate([n.property({type:[y],json:{write:{allowNull:!1,isRequired:!0}}})],m.prototype,"controlPoints",void 0),o.__decorate([a.reader("controlPoints")],m.prototype,"readControlPoints",null),o.__decorate([u.writer("controlPoints")],m.prototype,"writeControlPoints",null),m=o.__decorate([l.subclass("esri.layers.support.VideoFrame")],m);return m}));
