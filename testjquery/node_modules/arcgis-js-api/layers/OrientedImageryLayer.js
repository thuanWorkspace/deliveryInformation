/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../chunks/tslib.es6","../core/Error","../core/jsonMap","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/cast","../core/accessorSupport/decorators/subclass","./FeatureLayer","./orientedImagery/core/utils"],(function(e,t,r,o,i,a,p,n){"use strict";function y(e,t,r){return{name:`orientedImageryProperties.${e}`,write:!t||{target:`orientedImageryProperties.${e}`,writer:t},origins:{service:{name:`orientedImageryInfo.orientedImageryProperties.${e}`,write:t,read:r}}}}let d=class extends p{constructor(){super(...arguments),this.cameraHeading=null,this.cameraHeight=null,this.cameraPitch=null,this.cameraRoll=null,this.coveragePercent=null,this.demPathPrefix=null,this.demPathSuffix=null,this.depthImagePathPrefix=null,this.depthImagePathSuffix=null,this.elevationSource=null,this.farDistance=null,this.geometryType="point",this.horizontalFieldOfView=null,this.horizontalMeasurementUnit=null,this.imagePathPrefix=null,this.imagePathSuffix=null,this.imageRotation=null,this.maximumDistance=null,this.nearDistance=null,this.operationalLayerType="OrientedImageryLayer",this.orientationAccuracy=null,this.orientedImageryType=null,this.type="oriented-imagery",this.timeIntervalUnit=null,this.verticalFieldOfView=null,this.verticalMeasurementUnit=null,this.videoPathPrefix=null,this.videoPathSuffix=null}get effectiveElevationSource(){const{elevationSource:e,demPathPrefix:t,demPathSuffix:r}=this;return n.getEffectiveElevationSource(e,t,r)}findFirstValidLayerId(e){return e.layers?.find((e=>"Oriented Imagery Layer"===e.type))?.id}_verifySource(){if(super._verifySource(),"point"!==this.geometryType)throw new t("oriented-imagery-layer:invalid-geometry-type","OrientedImageryLayer only supports point geometry type")}};e.__decorate([o.property({type:Number,json:y("cameraHeading")})],d.prototype,"cameraHeading",void 0),e.__decorate([o.property({type:Number,json:y("cameraHeight")})],d.prototype,"cameraHeight",void 0),e.__decorate([o.property({type:Number,json:y("cameraPitch")})],d.prototype,"cameraPitch",void 0),e.__decorate([o.property({type:Number,json:y("cameraRoll")})],d.prototype,"cameraRoll",void 0),e.__decorate([o.property({type:Number,json:y("coveragePercent")})],d.prototype,"coveragePercent",void 0),e.__decorate([o.property({type:String,json:y("demPathPrefix")})],d.prototype,"demPathPrefix",void 0),e.__decorate([o.property({type:String,json:y("demPathSuffix")})],d.prototype,"demPathSuffix",void 0),e.__decorate([o.property({type:String,json:y("depthImagePathPrefix")})],d.prototype,"depthImagePathPrefix",void 0),e.__decorate([o.property({type:String,json:y("depthImagePathSuffix")})],d.prototype,"depthImagePathSuffix",void 0),e.__decorate([o.property({type:Object,json:y("elevationSource")})],d.prototype,"elevationSource",void 0),e.__decorate([o.property()],d.prototype,"effectiveElevationSource",null),e.__decorate([o.property({type:Number,json:y("farDistance")})],d.prototype,"farDistance",void 0),e.__decorate([o.property({json:{write:!0}})],d.prototype,"geometryType",void 0),e.__decorate([o.property({type:Number,json:y("horizontalFieldOfView")})],d.prototype,"horizontalFieldOfView",void 0),e.__decorate([o.property({type:String,json:y("horizontalMeasurementUnit")})],d.prototype,"horizontalMeasurementUnit",void 0),e.__decorate([o.property({type:String,json:y("imagePathPrefix")})],d.prototype,"imagePathPrefix",void 0),e.__decorate([o.property({type:String,json:y("imagePathSuffix")})],d.prototype,"imagePathSuffix",void 0),e.__decorate([o.property({type:Number,json:y("imageRotation")})],d.prototype,"imageRotation",void 0),e.__decorate([o.property({type:Number,json:y("maximumDistance")})],d.prototype,"maximumDistance",void 0),e.__decorate([o.property({type:Number,json:y("nearDistance")})],d.prototype,"nearDistance",void 0),e.__decorate([o.property({type:["OrientedImageryLayer"]})],d.prototype,"operationalLayerType",void 0),e.__decorate([o.property({json:y("orientationAccuracy",((e,t)=>{e&&(t.orientationAccuracy=e.join(","))}))}),i.cast((e=>e?e.trim().split(",").map(Number):null))],d.prototype,"orientationAccuracy",void 0),e.__decorate([o.property({json:{...y("orientedImageryType",n.orientedImageryTypeMap.write,n.orientedImageryTypeMap.read),type:n.orientedImageryTypeMap.apiValues}})],d.prototype,"orientedImageryType",void 0),e.__decorate([o.property({json:{read:!1},value:"oriented-imagery",readOnly:!0})],d.prototype,"type",void 0),e.__decorate([o.property({json:{...y("timeIntervalUnit",n.timeIntervalUnitTypeMap.write,n.timeIntervalUnitTypeMap.read),type:n.timeIntervalUnitTypeMap.apiValues}})],d.prototype,"timeIntervalUnit",void 0),e.__decorate([o.property({type:Number,json:y("verticalFieldOfView")})],d.prototype,"verticalFieldOfView",void 0),e.__decorate([o.property({json:{...y("verticalMeasurementUnit"),type:new r.JSONMap({Feet:"feet",Meter:"meter"}).apiValues}})],d.prototype,"verticalMeasurementUnit",void 0),e.__decorate([o.property({type:String,json:y("videoPathPrefix")})],d.prototype,"videoPathPrefix",void 0),e.__decorate([o.property({type:String,json:y("videoPathSuffix")})],d.prototype,"videoPathSuffix",void 0),d=e.__decorate([a.subclass("esri.layers.OrientedImageryLayer")],d);return d}));
