/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","./utils","../../portal/support/portalItemUtils"],(function(e,t,r){"use strict";const a="Stream Service",s="stream-layer-save",n="stream-layer-save-as";function l(e){return{isValid:"stream"===e.type&&!!e.url&&!e.webSocketUrl,errorMessage:"Stream layer should be created using a url to a stream service"}}function o(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function i(e,t){const{parsedUrl:a,title:s,fullExtent:n}=e;t.url=a.path,t.title||(t.title=s),t.extent=null,null!=n&&(t.extent=await r.getWGS84ExtentForItem(n)),r.addTypeKeyword(t,r.TypeKeyword.SINGLE_LAYER)}async function u(e,r){const n={layer:e,itemType:a,validateLayer:l,createItemData:o,errorNamePrefix:s};return t.save(n,r)}async function c(e,r,s){const u={layer:e,itemType:a,validateLayer:l,createItemData:o,errorNamePrefix:n,newItem:r,setItemProperties:i};return t.saveAs(u,s)}e.save=u,e.saveAs=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
