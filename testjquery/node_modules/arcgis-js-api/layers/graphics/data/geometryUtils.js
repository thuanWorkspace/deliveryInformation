/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../featureConversionUtils","../OptimizedGeometry"],(function(e,n,t){"use strict";const o=new t,r=new t,i=new t,l={esriGeometryPoint:n.convertToPoint,esriGeometryPolyline:n.convertToPolyline,esriGeometryPolygon:n.convertToPolygon,esriGeometryMultipoint:n.convertToMultipoint};function u(e,t,o,r=e.hasZ,l=e.hasM){if(null==t)return null;const u=e.hasZ&&r,s=e.hasM&&l;if(o){const m=n.quantizeOptimizedGeometry(i,t,e.hasZ,e.hasM,"esriGeometryPoint",o,r,l);return n.convertToPoint(m,u,s)}return n.convertToPoint(t,u,s)}function s(e,t,u,s,m,c,y=t,a=u){const f=t&&y,G=u&&a,d=null!=s?"coords"in s?s:s.geometry:null;if(null==d)return null;if(m){let o=n.generalizeOptimizedGeometry(r,d,t,u,e,m,y,a);return c&&(o=n.quantizeOptimizedGeometry(i,o,f,G,e,c)),l[e]?.(o,f,G)??null}if(c){const o=n.quantizeOptimizedGeometry(i,d,t,u,e,c,y,a);return l[e]?.(o,f,G)??null}return n.removeZMValues(o,d,t,u,y,a),l[e]?.(o,f,G)??null}function m(e){return e&&c in e?JSON.parse(JSON.stringify(e,y)):e}const c="_geVersion",y=(e,n)=>e!==c?n:void 0;e.cleanFromGeometryEngine=m,e.getGeometry=s,e.transformCentroid=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
