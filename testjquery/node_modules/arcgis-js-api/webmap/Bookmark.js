/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../chunks/tslib.es6","../TimeExtent","../Viewpoint","../core/Error","../core/Identifiable","../core/JSONSupport","../core/lang","../core/Logger","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/cast","../core/accessorSupport/decorators/reader","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","../core/accessorSupport/ensureType","../webdoc/support/SlideThumbnail"],(function(e,t,r,o,i,n,s,p,a,l,c,u,d,w,m){"use strict";var h;let y=h=class extends(i.IdentifiableMixin(n.JSONSupport)){constructor(e){super(e),this.name=null,this.thumbnail=new m.SlideThumbnail,this.timeExtent=null}castThumbnail(e){return"string"==typeof e?new m.SlideThumbnail({url:e}):w.ensureType(m.SlideThumbnail,e)}set viewpoint(e){const{targetGeometry:t,scale:r}=e;null!=t&&"point"===t.type&&null==r&&p.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",e),this._set("viewpoint",e)}readViewpoint(e,t){const{extent:o,viewpoint:i}=t;return r.fromJSON(i||{targetGeometry:o})}writeViewpoint(e,t,r,i){if(!e)return;const{targetGeometry:n}=e;if(null==n||"extent"===n.type)null!=n&&(t.extent=n.toJSON()),t[r]=e.toJSON();else{const e="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";i?.messages?i.messages.push(new o("property:unsupported",e)):p.getLogger(this).error(e)}}clone(){return new h(s.clone({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};e.__decorate([a.property({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],y.prototype,"name",void 0),e.__decorate([a.property({type:m.SlideThumbnail,json:{write:{overridePolicy:e=>({enabled:!(!e||!e.url)})}}})],y.prototype,"thumbnail",void 0),e.__decorate([l.cast("thumbnail")],y.prototype,"castThumbnail",null),e.__decorate([a.property({type:t,json:{write:!0}})],y.prototype,"timeExtent",void 0),e.__decorate([a.property({type:r,nonNullable:!0,json:{write:!0}})],y.prototype,"viewpoint",null),e.__decorate([c.reader("viewpoint",["extent","viewpoint"])],y.prototype,"readViewpoint",null),e.__decorate([d.writer("viewpoint")],y.prototype,"writeViewpoint",null),y=h=e.__decorate([u.subclass("esri.webmap.Bookmark")],y);return y}));
