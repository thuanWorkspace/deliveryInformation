/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../chunks/tslib.es6","../core/lang","../core/accessorSupport/decorators/property","../core/accessorSupport/ensureType","../core/accessorSupport/decorators/enumeration","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","./Font","./Symbol3DLayer","./support/materialUtils","./support/Symbol3DHalo","./support/Symbol3DMaterial","./support/Symbol3DTextBackground","./support/textUtils"],(function(t,e,o,r,n,i,l,s,a,c,p,u,h,y){"use strict";var d;let m=d=class extends a{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(t){null!=t&&null!=this._userSize&&(t.size=this._userSize),this._set("font",t)}writeFont(t,e,o,r){const n={...r,textSymbol3D:!0};e.font=t.write({},n),delete e.font.size}get size(){return null!=this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(t){this._userSize=t,null!=this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new d({enabled:this.enabled,font:this.font&&e.clone(this.font),halo:this.halo&&e.clone(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:e.clone(this.background)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new d({font:null!=t.font?t.font.clone():new s,halo:g(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new u.Symbol3DMaterial({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new h.Symbol3DTextBackground({color:t.backgroundColor.clone()}):null})}};function g(t,o){return t&&null!=o&&o>0?new p.Symbol3DHalo({color:e.clone(t),size:o}):null}t.__decorate([o.property({type:s,json:{write:!0}})],m.prototype,"font",null),t.__decorate([l.writer("font")],m.prototype,"writeFont",null),t.__decorate([o.property({type:p.Symbol3DHalo,json:{write:!0}})],m.prototype,"halo",void 0),t.__decorate([o.property({...y.horizontalAlignmentProperty,json:{default:"center",write:!0}})],m.prototype,"horizontalAlignment",void 0),t.__decorate([o.property({...y.lineHeightProperty,json:{default:1,write:!0}})],m.prototype,"lineHeight",void 0),t.__decorate([o.property({type:u.Symbol3DMaterial,json:{write:!0}})],m.prototype,"material",void 0),t.__decorate([o.property({type:h.Symbol3DTextBackground,json:{write:!0}})],m.prototype,"background",void 0),t.__decorate([o.property(c.screenSizeProperty)],m.prototype,"size",null),t.__decorate([o.property({type:String,json:{write:!0}})],m.prototype,"text",void 0),t.__decorate([n.enumeration({Text:"text"},{readOnly:!0})],m.prototype,"type",void 0),t.__decorate([o.property({...y.verticalAlignmentProperty,json:{default:"baseline",write:!0}})],m.prototype,"verticalAlignment",void 0),m=d=t.__decorate([i.subclass("esri.symbols.TextSymbol3DLayer")],m);return m}));
