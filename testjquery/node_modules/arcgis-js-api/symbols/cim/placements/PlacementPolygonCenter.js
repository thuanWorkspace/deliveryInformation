/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../geometry/support/boundsUtils","../../../geometry/support/centroid","../../../geometry/support/labelPoint","../CIMPlacements","../enums"],(function(e,t,n,o,s,l){"use strict";class r{static local(){return null===r.instance&&(r.instance=new r),r.instance}execute(e,t,n,o,s){return new i(e,t,n)}}r.instance=null;class i{constructor(e,t,n){this._geometryCursor=e,this._offsetX=void 0!==t.offsetX?t.offsetX*n:0,this._offsetY=void 0!==t.offsetY?t.offsetY*n:0,this._method=void 0!==t.method?t.method:l.PlacementPolygonCenterMethod.OnPolygon,this._internalPlacement=new s.Placement}next(){const e=this._geometryCursor;return this._geometryCursor=null,e?this._polygonCenter(e):null}_polygonCenter(e){let s=!1;switch(this._method){case l.PlacementPolygonCenterMethod.CenterOfMass:{const t=n.weightedAreaCentroid(e);t&&(this._internalPlacement.setTranslate(t[0]+this._offsetX,t[1]+this._offsetY),s=!0)}break;case l.PlacementPolygonCenterMethod.BoundingBoxCenter:{const n=t.getCursorBoundsXY(e);n&&(this._internalPlacement.setTranslate((n[2]+n[0])/2+this._offsetX,(n[3]+n[1])/2+this._offsetY),s=!0)}break;case l.PlacementPolygonCenterMethod.OnPolygon:default:{const t=o.getLabelPoint(e);null!==t&&(this._internalPlacement.setTranslate(t[0]+this._offsetX,t[1]+this._offsetY),s=!0)}}return s?this._internalPlacement:null}}e.PlacementPolygonCenter=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
