/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../geometry/GeometryCursor","../CIMCursor","../CurveHelper"],(function(t,e,i,s){"use strict";class n{static local(){return null===n.instance&&(n.instance=new n),n.instance}execute(t,e,i,s,n){return new r(t,e,i)}}n.instance=null;class r extends i.PathEffectCursor{constructor(t,e,i){super(t,!1,!0),this._curveHelper=new s.CurveHelper,this._length=(void 0!==e.length?e.length:20)*i,this._angle=void 0!==e.angle?e.angle:225,this._position=void 0!==e.position?e.position:50,this._length<0&&(this._length=-this._length),this._position<20&&(this._position=20),this._position>80&&(this._position=80),this._mirror=!1}processPath(t){const i=e.GeometryCursor.createEmptyOptimizedCIM("esriGeometryPolyline");if(this._curveHelper.isEmpty(t))return null;t.seekInPath(0);const s=t.x,n=t.y;t.seekInPath(t.pathSize-1);const r=t.x,o=t.y,h=[r-s,o-n];this._curveHelper.normalize(h);const l=s+(r-s)*this._position/100,a=n+(o-n)*this._position/100,c=Math.cos((90-this._angle)/180*Math.PI);let _=Math.sin((90-this._angle)/180*Math.PI);this._mirror&&(_=-_),this._mirror=!this._mirror;const u=[l-this._length/2*c,a-this._length/2*_],p=[l+this._length/2*c,a+this._length/2*_];return i.pushPath([[s,n],u,p,[r,o]]),i}}t.EffectJog=n,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
