/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../../geometry/GeometryCursor","../CIMCursor","../CurveHelper"],(function(e,t,r,i){"use strict";class u{static local(){return null===u.instance&&(u.instance=new u),u.instance}execute(e,t,r,i,u){return new n(e,t,r)}}u.instance=null;class n extends r.PathEffectCursor{constructor(e,t,r){super(e,!0,!0),this._curveHelper=new i.CurveHelper,this._beginCut=(void 0!==t.beginCut?t.beginCut:1)*r,this._endCut=(void 0!==t.endCut?t.endCut:1)*r,this._middleCut=(void 0!==t.middleCut?t.middleCut:0)*r,this._invert=void 0!==t.invert&&t.invert,this._beginCut<0&&(this._beginCut=0),this._endCut<0&&(this._endCut=0),this._middleCut<0&&(this._middleCut=0)}processPath(e){const{_beginCut:r,_endCut:i,_middleCut:u}=this,n=e.pathLength(),s=t.GeometryCursor.createEmptyOptimizedCIM("esriGeometryPolyline");if(this._invert){if(0!==r||0!==i||0!==u)if(r+i+u>=n)for(s.startPath();e.nextPoint();)s.pushXY(e.x,e.y);else this._curveHelper.appendSubCurve(s,e,0,r),this._curveHelper.appendSubCurve(s,e,.5*(n-u),.5*(n+u)),this._curveHelper.appendSubCurve(s,e,n-i,i)}else if(0===r&&0===i&&0===u)for(s.startPath();e.nextPoint();)s.pushXY(e.x,e.y);else r+i+u<n&&(0===u?this._curveHelper.appendSubCurve(s,e,r,n-i):(this._curveHelper.appendSubCurve(s,e,r,.5*(n-u)),this._curveHelper.appendSubCurve(s,e,.5*(n+u),n-i)));return 0===s.totalSize?null:s}}e.EffectCut=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
