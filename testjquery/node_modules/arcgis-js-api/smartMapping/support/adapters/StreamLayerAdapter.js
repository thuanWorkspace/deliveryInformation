/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["../../../chunks/tslib.es6","../../../core/Logger","../../../core/accessorSupport/ensureType","../../../core/arrayUtils","../../../core/has","../../../core/Error","../../../core/accessorSupport/decorators/subclass","../../../layers/support/fieldUtils","../utils","./InMemoryLayerAdapter","./support/utils","../../../statistics/utils"],(function(t,s,e,r,a,i,o,c,u,l,n,m){"use strict";let p=class extends l{async _summaryStatsFromClientQuery(t,s){const{signal:e,view:r}=t,a=n.getSummaryStatsQuery(this,t,s);a.outStatistics=a.outStatistics?.filter((t=>"totalcount_value"!==t.outStatisticFieldName));const i=await this._fetchFeatureSetFromMemory(a,r,e),o=n.getSummaryStatisticsFromFeatureSet(i,u.isAnyDateField(s)||c.isTimeOnlyField(s));return m.processSummaryStatisticsResult(o)}};p=t.__decorate([o.subclass("esri.smartMapping.support.adapters.StreamLayerAdapter")],p);return p}));
