/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../PopupTemplate","../../core/Error","../../intl/messages","./support/utils"],(function(e,s,r,a,n){"use strict";async function t(e){const{layer:s,renderer:a}=e;await s.load();const n=a||s.renderer;if("class-breaks"!==n?.type)throw new r("class-breaks-popup:invalid-parameters","renderer.type must be 'class-breaks'");return{layer:s,renderer:n}}async function i(e,r,a="divide"){const{fieldInfos:t,expressionInfos:i}=await n.getFieldAndExpressionInfos({renderer:e,layer:r,normFieldExpressionTemplate:a});return new s({content:await n.getContentFromFieldInfos(r,{fieldInfos:t,expressionInfos:i}),fieldInfos:t,expressionInfos:i})}async function o(e){const[{renderer:s,layer:r},o]=await Promise.all([t(e),a.fetchMessageBundle("esri/smartMapping/t9n/smartMapping")]),l={name:"class-breaks",title:o.classBreaks,value:await i(s,r)},p=[];return n.hasNormalizedField(s)&&p.push({name:"class-breaks-percent",title:o.classBreaksNormFieldAsPercent,value:await i(s,r,"percentage")}),{primaryTemplate:l,secondaryTemplates:p}}e.getTemplates=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
