/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../Color","../../core/arrayUtils","./color","./support/colors","./support/symbologyUtils"],(function(e,t,a,r,n,i){"use strict";const o={color:"#4c64c9",density:.8,layerEffect:"drop-shadow(1px, 1px, 3px, rgba(0,0,0,0.75))"},s={color:"#00ffff",density:.8,layerEffect:"bloom(1.4, 0.6px, 0)"},m={flowSpeed:10,trailLength:100,trailWidth:1,trailCap:"butt",minSize:1,maxSize:4},l={flowSpeed:3,trailLength:.7,trailWidth:8,trailCap:"butt",minSize:4,maxSize:16},c={"flow-line":{name:"flow-line",label:"TODO",description:"TODO",schemes:{default:{light:{common:{...m,...o},primary:"seq-lines-purple-brown",secondary:[...r.sequentialLightSchemes,...r.sequentialDarkSchemes].filter((e=>"seq-lines-purple-brown"!==e))},dark:{common:{...m,...s},primary:"seq-mentone-beach",secondary:[...r.sequentialDarkSchemes,...r.sequentialLightSchemes].filter((e=>"seq-mentone-beach"!==e))}}}},"wave-front":{name:"wave-front",label:"TODO",description:"TODO",schemes:{default:{light:{common:{...l,...o},primary:"seq-lines-purple-brown",secondary:[...r.sequentialLightSchemes,...r.sequentialDarkSchemes].filter((e=>"seq-lines-purple-brown"!==e))},dark:{common:{...l,...s},primary:"seq-mentone-beach",secondary:[...r.sequentialDarkSchemes,...r.sequentialLightSchemes].filter((e=>"seq-mentone-beach"!==e))}}}}},h=i.createThemes({themeDictionary:c});function p(e){return i.getThemesforBasemap(h,e)}function f(e){const t=e.theme||"flow-line",r=i.getRawSchemes({basemap:e.basemap,basemapTheme:e.basemapTheme,theme:h.get(t)});if(!r)return;const{schemesInfo:n,basemapId:o,basemapTheme:s}=r,m=n.common,l={...e,basemap:o};return{primaryScheme:y(l,n.primary,m),secondarySchemes:n.secondary.map((e=>y(l,e,m))).filter(a.isSome),basemapId:o,basemapTheme:s}}function u(e){return i.filterSchemesByName(e.name,f(e))}function d(e){return i.filterSchemesByTag(e.includedTags,e.excludedTags,f(e))}function S(e){if(!e)return;const a={...e};return a.colors=a.colors.map((e=>new t(e))),a.tags=[...a.tags],a.color&&(a.color=new t(a.color)),a}function y(e,a,r){const i=e.theme||"flow-line",o=n[a];if(!o)return;const s=o.stops;return{id:`${i}/${e.basemap}/${a}`,name:o.name,tags:[...o.tags],theme:i,color:new t(r.color),colors:s.map((e=>new t(e))),density:r.density,flowSpeed:r.flowSpeed,trailLength:"wave-front"===i&&e.hasSizeVariable?2*r.trailLength:r.trailLength,trailWidth:r.trailWidth,trailCap:r.trailCap,layerEffect:r.layerEffect,minSize:r.minSize,maxSize:r.maxSize,minOpacity:.25,maxOpacity:1}}e.cloneScheme=S,e.getSchemeByName=u,e.getSchemes=f,e.getSchemesByTag=d,e.getThemes=p,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
