/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
define(["exports","../../Color","../../core/arrayUtils","../renderers/support/utils","./size","./support/colors","./support/symbologyUtils"],(function(e,o,r,t,a,n,i){"use strict";const s="#aaaaaa",c="25px",m={light:{color:[153,153,153,.25],width:"1px"},dark:{color:[153,153,153,.25],width:"1px"},darker:{color:[26,26,26,.25],width:"1px"}},l=["vibrant-rainbow","cat-dark","predominant-v2","predominant-v5","predominance-race","desert-blooms","tropical-bliss","under-the-sea","ocean-bay","cat-light","predominant-v4","predominance-money","predominant-v3","predominance-race-ethnic","pastel-chalk","predominance-rainbow","predominance-sequence","cat-popup-olympic-sunset"],p={default:{name:"default",label:"Default",description:"Default theme for visualizing features using a pie chart of categories.",schemes:{point:{light:{primary:"predominant-v1",secondary:l,common:{outline:m.light,colorForOthersCategory:s,size:c}},dark:{primary:"predominant-v2",secondary:l.map((e=>"predominant-v2"===e?"predominant-v1":e)),common:{outline:m.darker,colorForOthersCategory:s,size:c}}},polygon:{light:{primary:"predominant-v1",secondary:l,common:{colorForOthersCategory:s,outline:m.light,size:c}},dark:{primary:"predominant-v2",secondary:l.map((e=>"predominant-v2"===e?"predominant-v1":e)),common:{colorForOthersCategory:s,outline:m.dark,size:c}}}}}},h=i.createThemes({themeDictionary:p});function u(e){return i.getThemesforBasemap(h,e)}function d(e){const o="default",t=i.getRawSchemes({basemap:e.basemap,basemapTheme:e.basemapTheme,geometryType:e.geometryType,theme:h.get(o)});if(!t)return;const{schemesInfo:n,basemapId:s,basemapTheme:c}=t,m=n.common,l=e.numColors,p=a.getSchemes({basemap:e.basemap,geometryType:e.geometryType}),u=p?.primaryScheme;return{primaryScheme:S(n.primary,m,l,u),secondarySchemes:n.secondary.map((e=>S(e,m,l,u))).filter(r.isSome),basemapId:s,basemapTheme:c}}function g(e){return i.filterSchemesByName(e.name,d(e))}function y(e){return i.filterSchemesByTag(e.includedTags,e.excludedTags,d(e))}function f(e){if(!e)return;const r={...e};return r.tags=[...r.tags],r.colors&&(r.colors=r.colors.map((e=>new o(e)))),r.colorForOthersCategory&&(r.colorForOthersCategory=new o(r.colorForOthersCategory)),r.outline&&(r.outline={color:r.outline.color&&new o(r.outline.color),width:r.outline.width}),"sizeScheme"in r&&r.sizeScheme&&(r.sizeScheme=a.cloneScheme(r.sizeScheme)),r}function S(e,o,r,a){const i=n[e];if(!i)return;return b({name:i.name,tags:i.tags,colors:i[r]||t.createColors(i.stops,r),colorForOthersCategory:o.colorForOthersCategory,outline:o.outline,size:o.size,sizeScheme:a})}function b(e){return{name:e.name,tags:[...e.tags],colors:e.colors.map((e=>new o(e))),colorForOthersCategory:new o(e.colorForOthersCategory),outline:{color:new o(e.outline.color),width:e.outline.width},size:e.size,sizeScheme:e.sizeScheme}}e.cloneScheme=f,e.getSchemeByName=g,e.getSchemes=d,e.getSchemesByTag=y,e.getThemes=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
